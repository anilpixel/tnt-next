"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7846],{8363:(t,e,n)=>{n.r(e),n.d(e,{frontMatter:()=>l,contentTitle:()=>s,metadata:()=>p,toc:()=>c,default:()=>u});var a=n(7896),o=n(31461),r=(n(2784),n(30876)),i=["components"],l={tags:["Components"],type:"Navigation",title:"Affix"},s=void 0,p={unversionedId:"components/navigation/affix",id:"components/navigation/affix",isDocsHomePage:!1,title:"Affix",description:"---",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/components/navigation/affix.md",sourceDirName:"components/navigation",slug:"/components/navigation/affix",permalink:"/tnt-next/en/docs/components/navigation/affix",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/components/navigation/affix.md",tags:[{label:"Components",permalink:"/tnt-next/en/docs/tags/components"}],version:"current",frontMatter:{tags:["Components"],type:"Navigation",title:"Affix"},sidebar:"componentsSidebar",previous:{title:"Layout",permalink:"/tnt-next/en/docs/components/layout/layout"},next:{title:"Breadcrumb",permalink:"/tnt-next/en/docs/components/navigation/breadcrumb"}},c=[{value:"When To Use",id:"when-to-use",children:[],level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",children:[{value:"Basic",id:"basic",children:[],level:3},{value:"Callback",id:"callback",children:[],level:3},{value:"Container to scroll.",id:"container-to-scroll",children:[],level:3}],level:2},{value:"API",id:"api",children:[],level:2},{value:"FAQ",id:"faq",children:[{value:"Affix bind container with <code>target</code>, sometime move out of container.",id:"affix-bind-container-with-target-sometime-move-out-of-container",children:[],level:3}],level:2}],m={toc:c};function u(t){var e=t.components,n=(0,o.Z)(t,i);return(0,r.kt)("wrapper",(0,a.Z)({},m,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("hr",null),(0,r.kt)("p",null,"Wrap Affix around another component to make it stick the viewport."),(0,r.kt)("h2",{id:"when-to-use"},"When To Use"),(0,r.kt)("p",null,"On longer web pages, its helpful for some content to stick to the viewport. This is common for menus and actions."),(0,r.kt)("p",null,"Please note that Affix should not cover other content on the page, especially when the size of the viewport is small."),(0,r.kt)("h2",{id:"\u793a\u4f8b"},"\u793a\u4f8b"),(0,r.kt)("h3",{id:"basic"},"Basic"),(0,r.kt)("p",null,"The simplest usage."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},'class Demo extends React.Component {\n  state = {\n    top: 10,\n    bottom: 10,\n  };\n\n  render() {\n    return (\n      <div>\n        <Affix offsetTop={this.state.top}>\n          <Button\n            type="primary"\n            onClick={() => {\n              this.setState({\n                top: this.state.top + 10,\n              });\n            }}\n          >\n            Affix top\n          </Button>\n        </Affix>\n        <br />\n        <Affix offsetBottom={this.state.bottom}>\n          <Button\n            type="primary"\n            onClick={() => {\n              this.setState({\n                bottom: this.state.bottom + 10,\n              });\n            }}\n          >\n            Affix bottom\n          </Button>\n        </Affix>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<Demo />, mountNode);\n')),(0,r.kt)("h3",{id:"callback"},"Callback"),(0,r.kt)("p",null,"Callback with affixed state."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"ReactDOM.render(\n  <Affix offsetTop={120} onChange={affixed => console.log(affixed)}>\n    <Button>120px to affix top</Button>\n  </Affix>,\n  mountNode,\n);\n")),(0,r.kt)("h3",{id:"container-to-scroll"},"Container to scroll."),(0,r.kt)("p",null,"Set a ",(0,r.kt)("inlineCode",{parentName:"p"},"target")," for 'Affix', which is listen to scroll event of target element (default is ",(0,r.kt)("inlineCode",{parentName:"p"},"window"),")."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},'class Demo extends React.Component {\n  render() {\n    return (\n      <div\n        className="scrollable-container"\n        ref={node => {\n          this.container = node;\n        }}\n      >\n        <div className="background">\n          <Affix target={() => this.container}>\n            <Button type="primary">Fixed at the top of container</Button>\n          </Affix>\n        </div>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<Demo />, mountNode);\n')),(0,r.kt)("h2",{id:"api"},"API"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Property"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Default"),(0,r.kt)("th",{parentName:"tr",align:null},"Version"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"offsetBottom"),(0,r.kt)("td",{parentName:"tr",align:null},"Offset from the bottom of the viewport (in pixels)"),(0,r.kt)("td",{parentName:"tr",align:null},"number"),(0,r.kt)("td",{parentName:"tr",align:null},"-"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"offsetTop"),(0,r.kt)("td",{parentName:"tr",align:null},"Offset from the top of the viewport (in pixels)"),(0,r.kt)("td",{parentName:"tr",align:null},"number"),(0,r.kt)("td",{parentName:"tr",align:null},"0"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"target"),(0,r.kt)("td",{parentName:"tr",align:null},"Specifies the scrollable area DOM node"),(0,r.kt)("td",{parentName:"tr",align:null},"() => HTMLElement"),(0,r.kt)("td",{parentName:"tr",align:null},"() => window"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"onChange"),(0,r.kt)("td",{parentName:"tr",align:null},"Callback for when Affix state is changed"),(0,r.kt)("td",{parentName:"tr",align:null},"Function(affixed)"),(0,r.kt)("td",{parentName:"tr",align:null},"-"),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Note:")," Children of ",(0,r.kt)("inlineCode",{parentName:"p"},"Affix")," must not have the property ",(0,r.kt)("inlineCode",{parentName:"p"},"position: absolute"),", but you can set ",(0,r.kt)("inlineCode",{parentName:"p"},"position: absolute")," on ",(0,r.kt)("inlineCode",{parentName:"p"},"Affix")," itself:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"<Affix style={{ position: 'absolute', top: y, left: x }}>...</Affix>\n")),(0,r.kt)("h2",{id:"faq"},"FAQ"),(0,r.kt)("h3",{id:"affix-bind-container-with-target-sometime-move-out-of-container"},"Affix bind container with ",(0,r.kt)("inlineCode",{parentName:"h3"},"target"),", sometime move out of container."),(0,r.kt)("p",null,"We don't listen window scroll for performance consideration. You can add listener if you still want: ",(0,r.kt)("a",{parentName:"p",href:"https://codesandbox.io/s/2xyj5zr85p"},"https://codesandbox.io/s/2xyj5zr85p")),(0,r.kt)("p",null,"Related issues\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ant-design/ant-design/issues/3938"},"#3938")," ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ant-design/ant-design/issues/5642"},"#5642")," ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ant-design/ant-design/issues/16120"},"#16120")))}u.isMDXComponent=!0},30876:(t,e,n)=>{n.d(e,{Zo:()=>c,kt:()=>f});var a=n(2784);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,a,o=function(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var s=a.createContext({}),p=function(t){var e=a.useContext(s),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},c=function(t){var e=p(t.components);return a.createElement(s.Provider,{value:e},t.children)},m={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},u=a.forwardRef((function(t,e){var n=t.components,o=t.mdxType,r=t.originalType,s=t.parentName,c=l(t,["components","mdxType","originalType","parentName"]),u=p(n),f=o,d=u["".concat(s,".").concat(f)]||u[f]||m[f]||r;return n?a.createElement(d,i(i({ref:e},c),{},{components:n})):a.createElement(d,i({ref:e},c))}));function f(t,e){var n=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var r=n.length,i=new Array(r);i[0]=u;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l.mdxType="string"==typeof t?t:o,i[1]=l;for(var p=2;p<r;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"}}]);