"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1718],{99009:(e,n,t)=>{t.r(n),t.d(n,{frontMatter:()=>i,contentTitle:()=>m,metadata:()=>p,toc:()=>d,default:()=>u});var a=t(7896),r=t(31461),l=(t(2784),t(30876)),o=["components"],i={tags:["Components"],subtitle:"\u8868\u5355",type:"\u6570\u636e\u5f55\u5165",cols:1,title:"Form \u8868\u5355"},m=void 0,p={unversionedId:"components/data-entry/form",id:"components/data-entry/form",isDocsHomePage:!1,title:"Form \u8868\u5355",description:"--------",source:"@site/docs/components/data-entry/form.md",sourceDirName:"components/data-entry",slug:"/components/data-entry/form",permalink:"/tnt-next/docs/components/data-entry/form",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/components/data-entry/form.md",tags:[{label:"Components",permalink:"/tnt-next/docs/tags/components"}],version:"current",frontMatter:{tags:["Components"],subtitle:"\u8868\u5355",type:"\u6570\u636e\u5f55\u5165",cols:1,title:"Form \u8868\u5355"},sidebar:"componentsSidebar",previous:{title:"DatePicker\u65e5\u671f\u9009\u62e9\u6846",permalink:"/tnt-next/docs/components/data-entry/date-picker"},next:{title:"InputNumber \u6570\u5b57\u8f93\u5165\u6846",permalink:"/tnt-next/docs/components/data-entry/input-number"}},d=[{value:"\u4f55\u65f6\u4f7f\u7528",id:"\u4f55\u65f6\u4f7f\u7528",children:[],level:2},{value:"\u8868\u5355",id:"\u8868\u5355",children:[],level:2},{value:"\u8868\u5355\u57df",id:"\u8868\u5355\u57df",children:[],level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",children:[{value:"\u5185\u8054\u767b\u5f55\u680f",id:"\u5185\u8054\u767b\u5f55\u680f",children:[],level:3},{value:"\u767b\u5f55\u6846",id:"\u767b\u5f55\u6846",children:[],level:3},{value:"\u6ce8\u518c\u65b0\u7528\u6237",id:"\u6ce8\u518c\u65b0\u7528\u6237",children:[],level:3},{value:"\u9ad8\u7ea7\u641c\u7d22",id:"\u9ad8\u7ea7\u641c\u7d22",children:[],level:3},{value:"\u5f39\u51fa\u5c42\u4e2d\u7684\u65b0\u5efa\u8868\u5355",id:"\u5f39\u51fa\u5c42\u4e2d\u7684\u65b0\u5efa\u8868\u5355",children:[],level:3},{value:"\u52a8\u6001\u589e\u51cf\u8868\u5355\u9879",id:"\u52a8\u6001\u589e\u51cf\u8868\u5355\u9879",children:[],level:3},{value:"\u65f6\u95f4\u7c7b\u63a7\u4ef6",id:"\u65f6\u95f4\u7c7b\u63a7\u4ef6",children:[],level:3},{value:"\u81ea\u5b9a\u4e49\u8868\u5355\u63a7\u4ef6",id:"\u81ea\u5b9a\u4e49\u8868\u5355\u63a7\u4ef6",children:[],level:3},{value:"\u8868\u5355\u6570\u636e\u5b58\u50a8\u4e8e\u4e0a\u5c42\u7ec4\u4ef6",id:"\u8868\u5355\u6570\u636e\u5b58\u50a8\u4e8e\u4e0a\u5c42\u7ec4\u4ef6",children:[],level:3},{value:"\u81ea\u884c\u5904\u7406\u8868\u5355\u6570\u636e",id:"\u81ea\u884c\u5904\u7406\u8868\u5355\u6570\u636e",children:[],level:3},{value:"\u81ea\u5b9a\u4e49\u6821\u9a8c",id:"\u81ea\u5b9a\u4e49\u6821\u9a8c",children:[],level:3},{value:"\u8868\u5355\u8054\u52a8",id:"\u8868\u5355\u8054\u52a8",children:[],level:3},{value:"\u8868\u5355\u5e03\u5c40",id:"\u8868\u5355\u5e03\u5c40",children:[],level:3},{value:"\u52a8\u6001\u6821\u9a8c\u89c4\u5219",id:"\u52a8\u6001\u6821\u9a8c\u89c4\u5219",children:[],level:3},{value:"\u6821\u9a8c\u5176\u4ed6\u7ec4\u4ef6",id:"\u6821\u9a8c\u5176\u4ed6\u7ec4\u4ef6",children:[],level:3}],level:2},{value:"API",id:"api",children:[{value:"Form",id:"form",children:[],level:3},{value:"Form.create(options)",id:"formcreateoptions",children:[],level:3},{value:"validateFields/validateFieldsAndScroll",id:"validatefieldsvalidatefieldsandscroll",children:[{value:"validateFields \u7684 callback \u53c2\u6570\u793a\u4f8b",id:"validatefields-\u7684-callback-\u53c2\u6570\u793a\u4f8b",children:[],level:4}],level:3},{value:"Form.createFormField",id:"formcreateformfield",children:[],level:3},{value:"this.props.form.getFieldDecorator(id, options)",id:"thispropsformgetfielddecoratorid-options",children:[{value:"\u7279\u522b\u6ce8\u610f",id:"\u7279\u522b\u6ce8\u610f",children:[],level:4},{value:"getFieldDecorator(id, options) \u53c2\u6570",id:"getfielddecoratorid-options-\u53c2\u6570",children:[],level:4}],level:3},{value:"Form.Item",id:"formitem",children:[],level:3},{value:"\u6821\u9a8c\u89c4\u5219",id:"\u6821\u9a8c\u89c4\u5219",children:[],level:3}],level:2},{value:"\u5728 TypeScript \u4e2d\u4f7f\u7528",id:"\u5728-typescript-\u4e2d\u4f7f\u7528",children:[],level:2},{value:"FAQ",id:"faq",children:[{value:"\u81ea\u5b9a\u4e49 validator \u6ca1\u6709\u6548\u679c",id:"\u81ea\u5b9a\u4e49-validator-\u6ca1\u6709\u6548\u679c",children:[],level:3},{value:"\u5982\u4f55\u5728\u51fd\u6570\u7ec4\u4ef6\u4e2d\u62ff\u5230 form \u5b9e\u4f8b\uff1f",id:"\u5982\u4f55\u5728\u51fd\u6570\u7ec4\u4ef6\u4e2d\u62ff\u5230-form-\u5b9e\u4f8b",children:[],level:3}],level:2}],s={toc:d};function u(e){var n=e.components,t=(0,r.Z)(e,o);return(0,l.kt)("wrapper",(0,a.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("hr",null),(0,l.kt)("p",null,"\u5177\u6709\u6570\u636e\u6536\u96c6\u3001\u6821\u9a8c\u548c\u63d0\u4ea4\u529f\u80fd\u7684\u8868\u5355\uff0c\u5305\u542b\u590d\u9009\u6846\u3001\u5355\u9009\u6846\u3001\u8f93\u5165\u6846\u3001\u4e0b\u62c9\u9009\u62e9\u6846\u7b49\u5143\u7d20\u3002"),(0,l.kt)("h2",{id:"\u4f55\u65f6\u4f7f\u7528"},"\u4f55\u65f6\u4f7f\u7528"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u7528\u4e8e\u521b\u5efa\u4e00\u4e2a\u5b9e\u4f53\u6216\u6536\u96c6\u4fe1\u606f\u3002"),(0,l.kt)("li",{parentName:"ul"},"\u9700\u8981\u5bf9\u8f93\u5165\u7684\u6570\u636e\u7c7b\u578b\u8fdb\u884c\u6821\u9a8c\u65f6\u3002")),(0,l.kt)("h2",{id:"\u8868\u5355"},"\u8868\u5355"),(0,l.kt)("p",null,"\u6211\u4eec\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"form")," \u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4e09\u79cd\u6392\u5217\u65b9\u5f0f\uff1a"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"\u6c34\u5e73\u6392\u5217\uff1a\u6807\u7b7e\u548c\u8868\u5355\u63a7\u4ef6\u6c34\u5e73\u6392\u5217\uff1b\uff08\u9ed8\u8ba4\uff09"),(0,l.kt)("li",{parentName:"ul"},"\u5782\u76f4\u6392\u5217\uff1a\u6807\u7b7e\u548c\u8868\u5355\u63a7\u4ef6\u4e0a\u4e0b\u5782\u76f4\u6392\u5217\uff1b"),(0,l.kt)("li",{parentName:"ul"},"\u884c\u5185\u6392\u5217\uff1a\u8868\u5355\u9879\u6c34\u5e73\u884c\u5185\u6392\u5217\u3002")),(0,l.kt)("h2",{id:"\u8868\u5355\u57df"},"\u8868\u5355\u57df"),(0,l.kt)("p",null,"\u8868\u5355\u4e00\u5b9a\u4f1a\u5305\u542b\u8868\u5355\u57df\uff0c\u8868\u5355\u57df\u53ef\u4ee5\u662f\u8f93\u5165\u63a7\u4ef6\uff0c\u6807\u51c6\u8868\u5355\u57df\uff0c\u6807\u7b7e\uff0c\u4e0b\u62c9\u83dc\u5355\uff0c\u6587\u672c\u57df\u7b49\u3002"),(0,l.kt)("p",null,"\u8fd9\u91cc\u6211\u4eec\u5c01\u88c5\u4e86\u8868\u5355\u57df ",(0,l.kt)("inlineCode",{parentName:"p"},"<Form.Item />")," \u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"<Form.Item {...props}>{children}</Form.Item>\n")),(0,l.kt)("h2",{id:"\u793a\u4f8b"},"\u793a\u4f8b"),(0,l.kt)("h3",{id:"\u5185\u8054\u767b\u5f55\u680f"},"\u5185\u8054\u767b\u5f55\u680f"),(0,l.kt)("p",null,"\u5185\u8054\u767b\u5f55\u680f\uff0c\u5e38\u7528\u5728\u9876\u90e8\u5bfc\u822a\u680f\u4e2d\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"function hasErrors(fieldsError) {\n  return Object.keys(fieldsError).some(field => fieldsError[field]);\n}\n\nclass HorizontalLoginForm extends React.Component {\n  componentDidMount() {\n    // To disable submit button at the beginning.\n    this.props.form.validateFields();\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        console.log('Received values of form: ', values);\n      }\n    });\n  };\n\n  render() {\n    const { getFieldDecorator, getFieldsError, getFieldError, isFieldTouched } = this.props.form;\n\n    // Only show error after a field is touched.\n    const usernameError = isFieldTouched('username') && getFieldError('username');\n    const passwordError = isFieldTouched('password') && getFieldError('password');\n    return (\n      <Form layout=\"inline\" onSubmit={this.handleSubmit}>\n        <Form.Item validateStatus={usernameError ? 'error' : ''} help={usernameError || ''}>\n          {getFieldDecorator('username', {\n            rules: [{ required: true, message: 'Please input your username!' }],\n          })(\n            <Input\n              prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n              placeholder=\"Username\"\n            />,\n          )}\n        </Form.Item>\n        <Form.Item validateStatus={passwordError ? 'error' : ''} help={passwordError || ''}>\n          {getFieldDecorator('password', {\n            rules: [{ required: true, message: 'Please input your Password!' }],\n          })(\n            <Input\n              prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n              type=\"password\"\n              placeholder=\"Password\"\n            />,\n          )}\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\" disabled={hasErrors(getFieldsError())}>\n            Log in\n          </Button>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nconst WrappedHorizontalLoginForm = Form.create({ name: 'horizontal_login' })(HorizontalLoginForm);\n\nReactDOM.render(<WrappedHorizontalLoginForm />, mountNode);\n")),(0,l.kt)("h3",{id:"\u767b\u5f55\u6846"},"\u767b\u5f55\u6846"),(0,l.kt)("p",null,"\u666e\u901a\u7684\u767b\u5f55\u6846\uff0c\u53ef\u4ee5\u5bb9\u7eb3\u66f4\u591a\u7684\u5143\u7d20\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},'class NormalLoginForm extends React.Component {\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        console.log(\'Received values of form: \', values);\n      }\n    });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    return (\n      <Form onSubmit={this.handleSubmit} className="login-form">\n        <Form.Item>\n          {getFieldDecorator(\'username\', {\n            rules: [{ required: true, message: \'Please input your username!\' }],\n          })(\n            <Input\n              prefix={<Icon type="user" style={{ color: \'rgba(0,0,0,.25)\' }} />}\n              placeholder="Username"\n            />,\n          )}\n        </Form.Item>\n        <Form.Item>\n          {getFieldDecorator(\'password\', {\n            rules: [{ required: true, message: \'Please input your Password!\' }],\n          })(\n            <Input\n              prefix={<Icon type="lock" style={{ color: \'rgba(0,0,0,.25)\' }} />}\n              type="password"\n              placeholder="Password"\n            />,\n          )}\n        </Form.Item>\n        <Form.Item>\n          {getFieldDecorator(\'remember\', {\n            valuePropName: \'checked\',\n            initialValue: true,\n          })(<Checkbox>Remember me</Checkbox>)}\n          <a className="login-form-forgot" href="">\n            Forgot password\n          </a>\n          <Button type="primary" htmlType="submit" className="login-form-button">\n            Log in\n          </Button>\n          Or <a href="">register now!</a>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nconst WrappedNormalLoginForm = Form.create({ name: \'normal_login\' })(NormalLoginForm);\n\nReactDOM.render(<WrappedNormalLoginForm />, mountNode);\n')),(0,l.kt)("h3",{id:"\u6ce8\u518c\u65b0\u7528\u6237"},"\u6ce8\u518c\u65b0\u7528\u6237"),(0,l.kt)("p",null,"\u7528\u6237\u586b\u5199\u5fc5\u987b\u7684\u4fe1\u606f\u4ee5\u6ce8\u518c\u65b0\u7528\u6237\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"const { Option } = Select;\nconst AutoCompleteOption = AutoComplete.Option;\n\nconst residences = [\n  {\n    value: 'zhejiang',\n    label: 'Zhejiang',\n    children: [\n      {\n        value: 'hangzhou',\n        label: 'Hangzhou',\n        children: [\n          {\n            value: 'xihu',\n            label: 'West Lake',\n          },\n        ],\n      },\n    ],\n  },\n  {\n    value: 'jiangsu',\n    label: 'Jiangsu',\n    children: [\n      {\n        value: 'nanjing',\n        label: 'Nanjing',\n        children: [\n          {\n            value: 'zhonghuamen',\n            label: 'Zhong Hua Men',\n          },\n        ],\n      },\n    ],\n  },\n];\n\nclass RegistrationForm extends React.Component {\n  state = {\n    confirmDirty: false,\n    autoCompleteResult: [],\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFieldsAndScroll((err, values) => {\n      if (!err) {\n        console.log('Received values of form: ', values);\n      }\n    });\n  };\n\n  handleConfirmBlur = e => {\n    const { value } = e.target;\n    this.setState({ confirmDirty: this.state.confirmDirty || !!value });\n  };\n\n  compareToFirstPassword = (rule, value, callback) => {\n    const { form } = this.props;\n    if (value && value !== form.getFieldValue('password')) {\n      callback('Two passwords that you enter is inconsistent!');\n    } else {\n      callback();\n    }\n  };\n\n  validateToNextPassword = (rule, value, callback) => {\n    const { form } = this.props;\n    if (value && this.state.confirmDirty) {\n      form.validateFields(['confirm'], { force: true });\n    }\n    callback();\n  };\n\n  handleWebsiteChange = value => {\n    let autoCompleteResult;\n    if (!value) {\n      autoCompleteResult = [];\n    } else {\n      autoCompleteResult = ['.com', '.org', '.net'].map(domain => `${value}${domain}`);\n    }\n    this.setState({ autoCompleteResult });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const { autoCompleteResult } = this.state;\n\n    const formItemLayout = {\n      labelCol: {\n        xs: { span: 24 },\n        sm: { span: 8 },\n      },\n      wrapperCol: {\n        xs: { span: 24 },\n        sm: { span: 16 },\n      },\n    };\n    const tailFormItemLayout = {\n      wrapperCol: {\n        xs: {\n          span: 24,\n          offset: 0,\n        },\n        sm: {\n          span: 16,\n          offset: 8,\n        },\n      },\n    };\n    const prefixSelector = getFieldDecorator('prefix', {\n      initialValue: '86',\n    })(\n      <Select style={{ width: 70 }}>\n        <Option value=\"86\">+86</Option>\n        <Option value=\"87\">+87</Option>\n      </Select>,\n    );\n\n    const websiteOptions = autoCompleteResult.map(website => (\n      <AutoCompleteOption key={website}>{website}</AutoCompleteOption>\n    ));\n\n    return (\n      <Form {...formItemLayout} onSubmit={this.handleSubmit}>\n        <Form.Item label=\"E-mail\">\n          {getFieldDecorator('email', {\n            rules: [\n              {\n                type: 'email',\n                message: 'The input is not valid E-mail!',\n              },\n              {\n                required: true,\n                message: 'Please input your E-mail!',\n              },\n            ],\n          })(<Input />)}\n        </Form.Item>\n        <Form.Item label=\"Password\" hasFeedback>\n          {getFieldDecorator('password', {\n            rules: [\n              {\n                required: true,\n                message: 'Please input your password!',\n              },\n              {\n                validator: this.validateToNextPassword,\n              },\n            ],\n          })(<Input.Password />)}\n        </Form.Item>\n        <Form.Item label=\"Confirm Password\" hasFeedback>\n          {getFieldDecorator('confirm', {\n            rules: [\n              {\n                required: true,\n                message: 'Please confirm your password!',\n              },\n              {\n                validator: this.compareToFirstPassword,\n              },\n            ],\n          })(<Input.Password onBlur={this.handleConfirmBlur} />)}\n        </Form.Item>\n        <Form.Item\n          label={\n            <span>\n              Nickname&nbsp;\n              <Tooltip title=\"What do you want others to call you?\">\n                <Icon type=\"question-circle-o\" />\n              </Tooltip>\n            </span>\n          }\n        >\n          {getFieldDecorator('nickname', {\n            rules: [{ required: true, message: 'Please input your nickname!', whitespace: true }],\n          })(<Input />)}\n        </Form.Item>\n        <Form.Item label=\"Habitual Residence\">\n          {getFieldDecorator('residence', {\n            initialValue: ['zhejiang', 'hangzhou', 'xihu'],\n            rules: [\n              { type: 'array', required: true, message: 'Please select your habitual residence!' },\n            ],\n          })(<Cascader options={residences} />)}\n        </Form.Item>\n        <Form.Item label=\"Phone Number\">\n          {getFieldDecorator('phone', {\n            rules: [{ required: true, message: 'Please input your phone number!' }],\n          })(<Input addonBefore={prefixSelector} style={{ width: '100%' }} />)}\n        </Form.Item>\n        <Form.Item label=\"Website\">\n          {getFieldDecorator('website', {\n            rules: [{ required: true, message: 'Please input website!' }],\n          })(\n            <AutoComplete\n              dataSource={websiteOptions}\n              onChange={this.handleWebsiteChange}\n              placeholder=\"website\"\n            >\n              <Input />\n            </AutoComplete>,\n          )}\n        </Form.Item>\n        <Form.Item label=\"Captcha\" extra=\"We must make sure that your are a human.\">\n          <Row gutter={8}>\n            <Col span={12}>\n              {getFieldDecorator('captcha', {\n                rules: [{ required: true, message: 'Please input the captcha you got!' }],\n              })(<Input />)}\n            </Col>\n            <Col span={12}>\n              <Button>Get captcha</Button>\n            </Col>\n          </Row>\n        </Form.Item>\n        <Form.Item {...tailFormItemLayout}>\n          {getFieldDecorator('agreement', {\n            valuePropName: 'checked',\n          })(\n            <Checkbox>\n              I have read the <a href=\"\">agreement</a>\n            </Checkbox>,\n          )}\n        </Form.Item>\n        <Form.Item {...tailFormItemLayout}>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Register\n          </Button>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nconst WrappedRegistrationForm = Form.create({ name: 'register' })(RegistrationForm);\n\nReactDOM.render(<WrappedRegistrationForm />, mountNode);\n")),(0,l.kt)("h3",{id:"\u9ad8\u7ea7\u641c\u7d22"},"\u9ad8\u7ea7\u641c\u7d22"),(0,l.kt)("p",null,"\u4e09\u5217\u6805\u683c\u5f0f\u7684\u8868\u5355\u6392\u5217\u65b9\u5f0f\uff0c\u5e38\u7528\u4e8e\u6570\u636e\u8868\u683c\u7684\u9ad8\u7ea7\u641c\u7d22\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"class AdvancedSearchForm extends React.Component {\n  state = {\n    expand: false,\n  };\n\n  // To generate mock Form.Item\n  getFields() {\n    const count = this.state.expand ? 10 : 6;\n    const { getFieldDecorator } = this.props.form;\n    const children = [];\n    for (let i = 0; i < 10; i++) {\n      children.push(\n        <Col span={8} key={i} style={{ display: i < count ? 'block' : 'none' }}>\n          <Form.Item label={`Field ${i}`}>\n            {getFieldDecorator(`field-${i}`, {\n              rules: [\n                {\n                  required: true,\n                  message: 'Input something!',\n                },\n              ],\n            })(<Input placeholder=\"placeholder\" />)}\n          </Form.Item>\n        </Col>,\n      );\n    }\n    return children;\n  }\n\n  handleSearch = e => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      console.log('Received values of form: ', values);\n    });\n  };\n\n  handleReset = () => {\n    this.props.form.resetFields();\n  };\n\n  toggle = () => {\n    const { expand } = this.state;\n    this.setState({ expand: !expand });\n  };\n\n  render() {\n    return (\n      <Form className=\"ant-advanced-search-form\" onSubmit={this.handleSearch}>\n        <Row gutter={24}>{this.getFields()}</Row>\n        <Row>\n          <Col span={24} style={{ textAlign: 'right' }}>\n            <Button type=\"primary\" htmlType=\"submit\">\n              Search\n            </Button>\n            <Button style={{ marginLeft: 8 }} onClick={this.handleReset}>\n              Clear\n            </Button>\n            <a style={{ marginLeft: 8, fontSize: 12 }} onClick={this.toggle}>\n              Collapse <Icon type={this.state.expand ? 'up' : 'down'} />\n            </a>\n          </Col>\n        </Row>\n      </Form>\n    );\n  }\n}\n\nconst WrappedAdvancedSearchForm = Form.create({ name: 'advanced_search' })(AdvancedSearchForm);\nReactDOM.render(\n  <div>\n    <WrappedAdvancedSearchForm />\n    <div className=\"search-result-list\">Search Result List</div>\n  </div>,\n  mountNode,\n);\n")),(0,l.kt)("h3",{id:"\u5f39\u51fa\u5c42\u4e2d\u7684\u65b0\u5efa\u8868\u5355"},"\u5f39\u51fa\u5c42\u4e2d\u7684\u65b0\u5efa\u8868\u5355"),(0,l.kt)("p",null,"\u5f53\u7528\u6237\u8bbf\u95ee\u4e00\u4e2a\u5c55\u793a\u4e86\u67d0\u4e2a\u5217\u8868\u7684\u9875\u9762\uff0c\u60f3\u65b0\u5efa\u4e00\u9879\u4f46\u53c8\u4e0d\u60f3\u8df3\u8f6c\u9875\u9762\u65f6\uff0c\u53ef\u4ee5\u7528 Modal \u5f39\u51fa\u4e00\u4e2a\u8868\u5355\uff0c\u7528\u6237\u586b\u5199\u5fc5\u8981\u4fe1\u606f\u540e\u521b\u5efa\u65b0\u7684\u9879\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},'const CollectionCreateForm = Form.create({ name: \'form_in_modal\' })(\n  // eslint-disable-next-line\n  class extends React.Component {\n    render() {\n      const { visible, onCancel, onCreate, form } = this.props;\n      const { getFieldDecorator } = form;\n      return (\n        <Modal\n          visible={visible}\n          title="Create a new collection"\n          okText="Create"\n          onCancel={onCancel}\n          onOk={onCreate}\n        >\n          <Form layout="vertical">\n            <Form.Item label="Title">\n              {getFieldDecorator(\'title\', {\n                rules: [{ required: true, message: \'Please input the title of collection!\' }],\n              })(<Input />)}\n            </Form.Item>\n            <Form.Item label="Description">\n              {getFieldDecorator(\'description\')(<Input type="textarea" />)}\n            </Form.Item>\n            <Form.Item className="collection-create-form_last-form-item">\n              {getFieldDecorator(\'modifier\', {\n                initialValue: \'public\',\n              })(\n                <Radio.Group>\n                  <Radio value="public">Public</Radio>\n                  <Radio value="private">Private</Radio>\n                </Radio.Group>,\n              )}\n            </Form.Item>\n          </Form>\n        </Modal>\n      );\n    }\n  },\n);\n\nclass CollectionsPage extends React.Component {\n  state = {\n    visible: false,\n  };\n\n  showModal = () => {\n    this.setState({ visible: true });\n  };\n\n  handleCancel = () => {\n    this.setState({ visible: false });\n  };\n\n  handleCreate = () => {\n    const { form } = this.formRef.props;\n    form.validateFields((err, values) => {\n      if (err) {\n        return;\n      }\n\n      console.log(\'Received values of form: \', values);\n      form.resetFields();\n      this.setState({ visible: false });\n    });\n  };\n\n  saveFormRef = formRef => {\n    this.formRef = formRef;\n  };\n\n  render() {\n    return (\n      <div>\n        <Button type="primary" onClick={this.showModal}>\n          New Collection\n        </Button>\n        <CollectionCreateForm\n          wrappedComponentRef={this.saveFormRef}\n          visible={this.state.visible}\n          onCancel={this.handleCancel}\n          onCreate={this.handleCreate}\n        />\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<CollectionsPage />, mountNode);\n')),(0,l.kt)("h3",{id:"\u52a8\u6001\u589e\u51cf\u8868\u5355\u9879"},"\u52a8\u6001\u589e\u51cf\u8868\u5355\u9879"),(0,l.kt)("p",null,"\u52a8\u6001\u589e\u52a0\u3001\u51cf\u5c11\u8868\u5355\u9879\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"let id = 0;\n\nclass DynamicFieldSet extends React.Component {\n  remove = k => {\n    const { form } = this.props;\n    // can use data-binding to get\n    const keys = form.getFieldValue('keys');\n    // We need at least one passenger\n    if (keys.length === 1) {\n      return;\n    }\n\n    // can use data-binding to set\n    form.setFieldsValue({\n      keys: keys.filter(key => key !== k),\n    });\n  };\n\n  add = () => {\n    const { form } = this.props;\n    // can use data-binding to get\n    const keys = form.getFieldValue('keys');\n    const nextKeys = keys.concat(id++);\n    // can use data-binding to set\n    // important! notify form to detect changes\n    form.setFieldsValue({\n      keys: nextKeys,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        const { keys, names } = values;\n        console.log('Received values of form: ', values);\n        console.log('Merged values:', keys.map(key => names[key]));\n      }\n    });\n  };\n\n  render() {\n    const { getFieldDecorator, getFieldValue } = this.props.form;\n    const formItemLayout = {\n      labelCol: {\n        xs: { span: 24 },\n        sm: { span: 4 },\n      },\n      wrapperCol: {\n        xs: { span: 24 },\n        sm: { span: 20 },\n      },\n    };\n    const formItemLayoutWithOutLabel = {\n      wrapperCol: {\n        xs: { span: 24, offset: 0 },\n        sm: { span: 20, offset: 4 },\n      },\n    };\n    getFieldDecorator('keys', { initialValue: [] });\n    const keys = getFieldValue('keys');\n    const formItems = keys.map((k, index) => (\n      <Form.Item\n        {...(index === 0 ? formItemLayout : formItemLayoutWithOutLabel)}\n        label={index === 0 ? 'Passengers' : ''}\n        required={false}\n        key={k}\n      >\n        {getFieldDecorator(`names[${k}]`, {\n          validateTrigger: ['onChange', 'onBlur'],\n          rules: [\n            {\n              required: true,\n              whitespace: true,\n              message: \"Please input passenger's name or delete this field.\",\n            },\n          ],\n        })(<Input placeholder=\"passenger name\" style={{ width: '60%', marginRight: 8 }} />)}\n        {keys.length > 1 ? (\n          <Icon\n            className=\"dynamic-delete-button\"\n            type=\"minus-circle-o\"\n            onClick={() => this.remove(k)}\n          />\n        ) : null}\n      </Form.Item>\n    ));\n    return (\n      <Form onSubmit={this.handleSubmit}>\n        {formItems}\n        <Form.Item {...formItemLayoutWithOutLabel}>\n          <Button type=\"dashed\" onClick={this.add} style={{ width: '60%' }}>\n            <Icon type=\"plus\" /> Add field\n          </Button>\n        </Form.Item>\n        <Form.Item {...formItemLayoutWithOutLabel}>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Submit\n          </Button>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nconst WrappedDynamicFieldSet = Form.create({ name: 'dynamic_form_item' })(DynamicFieldSet);\nReactDOM.render(<WrappedDynamicFieldSet />, mountNode);\n")),(0,l.kt)("h3",{id:"\u65f6\u95f4\u7c7b\u63a7\u4ef6"},"\u65f6\u95f4\u7c7b\u63a7\u4ef6"),(0,l.kt)("p",null,"\u65f6\u95f4\u7c7b\u7ec4\u4ef6\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"value")," \u7c7b\u578b\u4e3a ",(0,l.kt)("inlineCode",{parentName:"p"},"moment")," \u5bf9\u8c61\uff0c\u6240\u4ee5\u5728\u63d0\u4ea4\u670d\u52a1\u5668\u524d\u9700\u8981\u9884\u5904\u7406\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"const { MonthPicker, RangePicker } = DatePicker;\n\nclass TimeRelatedForm extends React.Component {\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.form.validateFields((err, fieldsValue) => {\n      if (err) {\n        return;\n      }\n\n      // Should format date value before submit.\n      const rangeValue = fieldsValue['range-picker'];\n      const rangeTimeValue = fieldsValue['range-time-picker'];\n      const values = {\n        ...fieldsValue,\n        'date-picker': fieldsValue['date-picker'].format('YYYY-MM-DD'),\n        'date-time-picker': fieldsValue['date-time-picker'].format('YYYY-MM-DD HH:mm:ss'),\n        'month-picker': fieldsValue['month-picker'].format('YYYY-MM'),\n        'range-picker': [rangeValue[0].format('YYYY-MM-DD'), rangeValue[1].format('YYYY-MM-DD')],\n        'range-time-picker': [\n          rangeTimeValue[0].format('YYYY-MM-DD HH:mm:ss'),\n          rangeTimeValue[1].format('YYYY-MM-DD HH:mm:ss'),\n        ],\n        'time-picker': fieldsValue['time-picker'].format('HH:mm:ss'),\n      };\n      console.log('Received values of form: ', values);\n    });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const formItemLayout = {\n      labelCol: {\n        xs: { span: 24 },\n        sm: { span: 8 },\n      },\n      wrapperCol: {\n        xs: { span: 24 },\n        sm: { span: 16 },\n      },\n    };\n    const config = {\n      rules: [{ type: 'object', required: true, message: 'Please select time!' }],\n    };\n    const rangeConfig = {\n      rules: [{ type: 'array', required: true, message: 'Please select time!' }],\n    };\n    return (\n      <Form {...formItemLayout} onSubmit={this.handleSubmit}>\n        <Form.Item label=\"DatePicker\">\n          {getFieldDecorator('date-picker', config)(<DatePicker />)}\n        </Form.Item>\n        <Form.Item label=\"DatePicker[showTime]\">\n          {getFieldDecorator('date-time-picker', config)(\n            <DatePicker showTime format=\"YYYY-MM-DD HH:mm:ss\" />,\n          )}\n        </Form.Item>\n        <Form.Item label=\"MonthPicker\">\n          {getFieldDecorator('month-picker', config)(<MonthPicker />)}\n        </Form.Item>\n        <Form.Item label=\"RangePicker\">\n          {getFieldDecorator('range-picker', rangeConfig)(<RangePicker />)}\n        </Form.Item>\n        <Form.Item label=\"RangePicker[showTime]\">\n          {getFieldDecorator('range-time-picker', rangeConfig)(\n            <RangePicker showTime format=\"YYYY-MM-DD HH:mm:ss\" />,\n          )}\n        </Form.Item>\n        <Form.Item label=\"TimePicker\">\n          {getFieldDecorator('time-picker', config)(<TimePicker />)}\n        </Form.Item>\n        <Form.Item\n          wrapperCol={{\n            xs: { span: 24, offset: 0 },\n            sm: { span: 16, offset: 8 },\n          }}\n        >\n          <Button type=\"primary\" htmlType=\"submit\">\n            Submit\n          </Button>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nconst WrappedTimeRelatedForm = Form.create({ name: 'time_related_controls' })(TimeRelatedForm);\n\nReactDOM.render(<WrappedTimeRelatedForm />, mountNode);\n")),(0,l.kt)("h3",{id:"\u81ea\u5b9a\u4e49\u8868\u5355\u63a7\u4ef6"},"\u81ea\u5b9a\u4e49\u8868\u5355\u63a7\u4ef6"),(0,l.kt)("p",null,"\u81ea\u5b9a\u4e49\u6216\u7b2c\u4e09\u65b9\u7684\u8868\u5355\u63a7\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u4e0e Form \u7ec4\u4ef6\u4e00\u8d77\u4f7f\u7528\u3002\u53ea\u8981\u8be5\u7ec4\u4ef6\u9075\u5faa\u4ee5\u4e0b\u7684\u7ea6\u5b9a\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"const { Option } = Select;\n\nclass PriceInput extends React.Component {\n  handleNumberChange = e => {\n    const number = parseInt(e.target.value || 0, 10);\n    if (isNaN(number)) {\n      return;\n    }\n    this.triggerChange({ number });\n  };\n\n  handleCurrencyChange = currency => {\n    this.triggerChange({ currency });\n  };\n\n  triggerChange = changedValue => {\n    const { onChange, value } = this.props;\n    if (onChange) {\n      onChange({\n        ...value,\n        ...changedValue,\n      });\n    }\n  };\n\n  render() {\n    const { size, value } = this.props;\n    return (\n      <span>\n        <Input\n          type=\"text\"\n          size={size}\n          value={value.number}\n          onChange={this.handleNumberChange}\n          style={{ width: '65%', marginRight: '3%' }}\n        />\n        <Select\n          value={value.currency}\n          size={size}\n          style={{ width: '32%' }}\n          onChange={this.handleCurrencyChange}\n        >\n          <Option value=\"rmb\">RMB</Option>\n          <Option value=\"dollar\">Dollar</Option>\n        </Select>\n      </span>\n    );\n  }\n}\n\nclass Demo extends React.Component {\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        console.log('Received values of form: ', values);\n      }\n    });\n  };\n\n  checkPrice = (rule, value, callback) => {\n    if (value.number > 0) {\n      return callback();\n    }\n    callback('Price must greater than zero!');\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    return (\n      <Form layout=\"inline\" onSubmit={this.handleSubmit}>\n        <Form.Item label=\"Price\">\n          {getFieldDecorator('price', {\n            initialValue: { number: 0, currency: 'rmb' },\n            rules: [{ validator: this.checkPrice }],\n          })(<PriceInput />)}\n        </Form.Item>\n        <Form.Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Submit\n          </Button>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nconst WrappedDemo = Form.create({ name: 'customized_form_controls' })(Demo);\n\nReactDOM.render(<WrappedDemo />, mountNode);\n")),(0,l.kt)("h3",{id:"\u8868\u5355\u6570\u636e\u5b58\u50a8\u4e8e\u4e0a\u5c42\u7ec4\u4ef6"},"\u8868\u5355\u6570\u636e\u5b58\u50a8\u4e8e\u4e0a\u5c42\u7ec4\u4ef6"),(0,l.kt)("p",null,"\u901a\u8fc7\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"onFieldsChange")," \u4e0e ",(0,l.kt)("inlineCode",{parentName:"p"},"mapPropsToFields"),"\uff0c\u53ef\u4ee5\u628a\u8868\u5355\u7684\u6570\u636e\u5b58\u50a8\u5230\u4e0a\u5c42\u7ec4\u4ef6\u6216\u8005 ","[","Redux]","(",(0,l.kt)("a",{parentName:"p",href:"https://github.com/reactjs/redux)%E3%80%81%5C%5Bdva%5D%5C(https://github.com/dvajs/dva"},"https://github.com/reactjs/redux)\u3001\\[dva]\\(https://github.com/dvajs/dva"),") \u4e2d\uff0c\u66f4\u591a\u53ef\u53c2\u8003 ","[","rc-form \u793a\u4f8b]","(",(0,l.kt)("a",{parentName:"p",href:"http://react-component.github.io/form/examples/redux.html)%E3%80%82"},"http://react-component.github.io/form/examples/redux.html)\u3002")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"const CustomizedForm = Form.create({\n  name: 'global_state',\n  onFieldsChange(props, changedFields) {\n    props.onChange(changedFields);\n  },\n  mapPropsToFields(props) {\n    return {\n      username: Form.createFormField({\n        ...props.username,\n        value: props.username.value,\n      }),\n    };\n  },\n  onValuesChange(_, values) {\n    console.log(values);\n  },\n})(props => {\n  const { getFieldDecorator } = props.form;\n  return (\n    <Form layout=\"inline\">\n      <Form.Item label=\"Username\">\n        {getFieldDecorator('username', {\n          rules: [{ required: true, message: 'Username is required!' }],\n        })(<Input />)}\n      </Form.Item>\n    </Form>\n  );\n});\n\nclass Demo extends React.Component {\n  state = {\n    fields: {\n      username: {\n        value: 'benjycui',\n      },\n    },\n  };\n\n  handleFormChange = changedFields => {\n    this.setState(({ fields }) => ({\n      fields: { ...fields, ...changedFields },\n    }));\n  };\n\n  render() {\n    const { fields } = this.state;\n    return (\n      <div>\n        <CustomizedForm {...fields} onChange={this.handleFormChange} />\n        <pre className=\"language-bash\">{JSON.stringify(fields, null, 2)}</pre>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<Demo />, mountNode);\n")),(0,l.kt)("h3",{id:"\u81ea\u884c\u5904\u7406\u8868\u5355\u6570\u636e"},"\u81ea\u884c\u5904\u7406\u8868\u5355\u6570\u636e"),(0,l.kt)("p",null,"\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"Form.create")," \u5904\u7406\u540e\u7684\u8868\u5355\u5177\u6709\u81ea\u52a8\u6536\u96c6\u6570\u636e\u5e76\u6821\u9a8c\u7684\u529f\u80fd\uff0c\u4f46\u5982\u679c\u60a8\u4e0d\u9700\u8981\u8fd9\u4e2a\u529f\u80fd\uff0c\u6216\u8005\u9ed8\u8ba4\u7684\u884c\u4e3a\u65e0\u6cd5\u6ee1\u8db3\u4e1a\u52a1\u9700\u6c42\uff0c\u53ef\u4ee5\u9009\u62e9\u4e0d\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"Form.create")," \u5e76\u81ea\u884c\u5904\u7406\u6570\u636e\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"function validatePrimeNumber(number) {\n  if (number === 11) {\n    return {\n      validateStatus: 'success',\n      errorMsg: null,\n    };\n  }\n  return {\n    validateStatus: 'error',\n    errorMsg: 'The prime between 8 and 12 is 11!',\n  };\n}\n\nclass RawForm extends React.Component {\n  state = {\n    number: {\n      value: 11,\n    },\n  };\n\n  handleNumberChange = value => {\n    this.setState({\n      number: {\n        ...validatePrimeNumber(value),\n        value,\n      },\n    });\n  };\n\n  render() {\n    const formItemLayout = {\n      labelCol: { span: 7 },\n      wrapperCol: { span: 12 },\n    };\n    const { number } = this.state;\n    const tips =\n      'A prime is a natural number greater than 1 that has no positive divisors other than 1 and itself.';\n    return (\n      <Form>\n        <Form.Item\n          {...formItemLayout}\n          label=\"Prime between 8 & 12\"\n          validateStatus={number.validateStatus}\n          help={number.errorMsg || tips}\n        >\n          <InputNumber min={8} max={12} value={number.value} onChange={this.handleNumberChange} />\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nReactDOM.render(<RawForm />, mountNode);\n")),(0,l.kt)("h3",{id:"\u81ea\u5b9a\u4e49\u6821\u9a8c"},"\u81ea\u5b9a\u4e49\u6821\u9a8c"),(0,l.kt)("p",null,"\u6211\u4eec\u63d0\u4f9b\u4e86 ",(0,l.kt)("inlineCode",{parentName:"p"},"validateStatus")," ",(0,l.kt)("inlineCode",{parentName:"p"},"help")," ",(0,l.kt)("inlineCode",{parentName:"p"},"hasFeedback")," \u7b49\u5c5e\u6027\uff0c\u4f60\u53ef\u4ee5\u4e0d\u9700\u8981\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"Form.create")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"getFieldDecorator"),"\uff0c\u81ea\u5df1\u5b9a\u4e49\u6821\u9a8c\u7684\u65f6\u673a\u548c\u5185\u5bb9\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},'const { Option } = Select;\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 5 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 12 },\n  },\n};\n\nReactDOM.render(\n  <Form {...formItemLayout}>\n    <Form.Item\n      label="Fail"\n      validateStatus="error"\n      help="Should be combination of numbers & alphabets"\n    >\n      <Input placeholder="unavailable choice" id="error" />\n    </Form.Item>\n\n    <Form.Item label="Warning" validateStatus="warning">\n      <Input placeholder="Warning" id="warning" />\n    </Form.Item>\n\n    <Form.Item\n      label="Validating"\n      hasFeedback\n      validateStatus="validating"\n      help="The information is being validated..."\n    >\n      <Input placeholder="I\'m the content is being validated" id="validating" />\n    </Form.Item>\n\n    <Form.Item label="Success" hasFeedback validateStatus="success">\n      <Input placeholder="I\'m the content" id="success" />\n    </Form.Item>\n\n    <Form.Item label="Warning" hasFeedback validateStatus="warning">\n      <Input placeholder="Warning" id="warning2" />\n    </Form.Item>\n\n    <Form.Item\n      label="Fail"\n      hasFeedback\n      validateStatus="error"\n      help="Should be combination of numbers & alphabets"\n    >\n      <Input placeholder="unavailable choice" id="error2" />\n    </Form.Item>\n\n    <Form.Item label="Success" hasFeedback validateStatus="success">\n      <DatePicker style={{ width: \'100%\' }} />\n    </Form.Item>\n\n    <Form.Item label="Warning" hasFeedback validateStatus="warning">\n      <TimePicker style={{ width: \'100%\' }} />\n    </Form.Item>\n\n    <Form.Item label="Error" hasFeedback validateStatus="error">\n      <Select defaultValue="1">\n        <Option value="1">Option 1</Option>\n        <Option value="2">Option 2</Option>\n        <Option value="3">Option 3</Option>\n      </Select>\n    </Form.Item>\n\n    <Form.Item\n      label="Validating"\n      hasFeedback\n      validateStatus="validating"\n      help="The information is being validated..."\n    >\n      <Cascader defaultValue={[\'1\']} options={[]} />\n    </Form.Item>\n\n    <Form.Item label="inline" style={{ marginBottom: 0 }}>\n      <Form.Item\n        validateStatus="error"\n        help="Please select the correct date"\n        style={{ display: \'inline-block\', width: \'calc(50% - 12px)\' }}\n      >\n        <DatePicker />\n      </Form.Item>\n      <span style={{ display: \'inline-block\', width: \'24px\', textAlign: \'center\' }}>-</span>\n      <Form.Item style={{ display: \'inline-block\', width: \'calc(50% - 12px)\' }}>\n        <DatePicker />\n      </Form.Item>\n    </Form.Item>\n\n    <Form.Item label="Success" hasFeedback validateStatus="success">\n      <InputNumber style={{ width: \'100%\' }} />\n    </Form.Item>\n\n    <Form.Item label="Success" hasFeedback validateStatus="success">\n      <Input allowClear placeholder="with allowClear" />\n    </Form.Item>\n\n    <Form.Item label="Warning" hasFeedback validateStatus="warning">\n      <Input.Password placeholder="with input password" />\n    </Form.Item>\n\n    <Form.Item label="Error" hasFeedback validateStatus="error">\n      <Input.Password allowClear placeholder="with input password and allowClear" />\n    </Form.Item>\n  </Form>,\n  mountNode,\n);\n')),(0,l.kt)("h3",{id:"\u8868\u5355\u8054\u52a8"},"\u8868\u5355\u8054\u52a8"),(0,l.kt)("p",null,"\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"setFieldsValue")," \u6765\u52a8\u6001\u8bbe\u7f6e\u5176\u4ed6\u63a7\u4ef6\u7684\u503c\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"const { Option } = Select;\n\nclass App extends React.Component {\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        console.log('Received values of form: ', values);\n      }\n    });\n  };\n\n  handleSelectChange = value => {\n    console.log(value);\n    this.props.form.setFieldsValue({\n      note: `Hi, ${value === 'male' ? 'man' : 'lady'}!`,\n    });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    return (\n      <Form labelCol={{ span: 5 }} wrapperCol={{ span: 12 }} onSubmit={this.handleSubmit}>\n        <Form.Item label=\"Note\">\n          {getFieldDecorator('note', {\n            rules: [{ required: true, message: 'Please input your note!' }],\n          })(<Input />)}\n        </Form.Item>\n        <Form.Item label=\"Gender\">\n          {getFieldDecorator('gender', {\n            rules: [{ required: true, message: 'Please select your gender!' }],\n          })(\n            <Select\n              placeholder=\"Select a option and change input text above\"\n              onChange={this.handleSelectChange}\n            >\n              <Option value=\"male\">male</Option>\n              <Option value=\"female\">female</Option>\n            </Select>,\n          )}\n        </Form.Item>\n        <Form.Item wrapperCol={{ span: 12, offset: 5 }}>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Submit\n          </Button>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nconst WrappedApp = Form.create({ name: 'coordinated' })(App);\n\nReactDOM.render(<WrappedApp />, mountNode);\n")),(0,l.kt)("h3",{id:"\u8868\u5355\u5e03\u5c40"},"\u8868\u5355\u5e03\u5c40"),(0,l.kt)("p",null,"\u8868\u5355\u6709\u4e09\u79cd\u5e03\u5c40\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},'class FormLayoutDemo extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      formLayout: \'horizontal\',\n    };\n  }\n\n  handleFormLayoutChange = e => {\n    this.setState({ formLayout: e.target.value });\n  };\n\n  render() {\n    const { formLayout } = this.state;\n    const formItemLayout =\n      formLayout === \'horizontal\'\n        ? {\n            labelCol: { span: 4 },\n            wrapperCol: { span: 14 },\n          }\n        : null;\n    const buttonItemLayout =\n      formLayout === \'horizontal\'\n        ? {\n            wrapperCol: { span: 14, offset: 4 },\n          }\n        : null;\n    return (\n      <div>\n        <Form layout={formLayout}>\n          <Form.Item label="Form Layout" {...formItemLayout}>\n            <Radio.Group defaultValue="horizontal" onChange={this.handleFormLayoutChange}>\n              <Radio.Button value="horizontal">Horizontal</Radio.Button>\n              <Radio.Button value="vertical">Vertical</Radio.Button>\n              <Radio.Button value="inline">Inline</Radio.Button>\n            </Radio.Group>\n          </Form.Item>\n          <Form.Item label="Field A" {...formItemLayout}>\n            <Input placeholder="input placeholder" />\n          </Form.Item>\n          <Form.Item label="Field B" {...formItemLayout}>\n            <Input placeholder="input placeholder" />\n          </Form.Item>\n          <Form.Item {...buttonItemLayout}>\n            <Button type="primary">Submit</Button>\n          </Form.Item>\n        </Form>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<FormLayoutDemo />, mountNode);\n')),(0,l.kt)("h3",{id:"\u52a8\u6001\u6821\u9a8c\u89c4\u5219"},"\u52a8\u6001\u6821\u9a8c\u89c4\u5219"),(0,l.kt)("p",null,"\u6839\u636e\u4e0d\u540c\u60c5\u51b5\u6267\u884c\u4e0d\u540c\u7684\u6821\u9a8c\u89c4\u5219\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"const formItemLayout = {\n  labelCol: { span: 4 },\n  wrapperCol: { span: 8 },\n};\nconst formTailLayout = {\n  labelCol: { span: 4 },\n  wrapperCol: { span: 8, offset: 4 },\n};\nclass DynamicRule extends React.Component {\n  state = {\n    checkNick: false,\n  };\n\n  check = () => {\n    this.props.form.validateFields(err => {\n      if (!err) {\n        console.info('success');\n      }\n    });\n  };\n\n  handleChange = e => {\n    this.setState(\n      {\n        checkNick: e.target.checked,\n      },\n      () => {\n        this.props.form.validateFields(['nickname'], { force: true });\n      },\n    );\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    return (\n      <div>\n        <Form.Item {...formItemLayout} label=\"Name\">\n          {getFieldDecorator('username', {\n            rules: [\n              {\n                required: true,\n                message: 'Please input your name',\n              },\n            ],\n          })(<Input placeholder=\"Please input your name\" />)}\n        </Form.Item>\n        <Form.Item {...formItemLayout} label=\"Nickname\">\n          {getFieldDecorator('nickname', {\n            rules: [\n              {\n                required: this.state.checkNick,\n                message: 'Please input your nickname',\n              },\n            ],\n          })(<Input placeholder=\"Please input your nickname\" />)}\n        </Form.Item>\n        <Form.Item {...formTailLayout}>\n          <Checkbox checked={this.state.checkNick} onChange={this.handleChange}>\n            Nickname is required\n          </Checkbox>\n        </Form.Item>\n        <Form.Item {...formTailLayout}>\n          <Button type=\"primary\" onClick={this.check}>\n            Check\n          </Button>\n        </Form.Item>\n      </div>\n    );\n  }\n}\n\nconst WrappedDynamicRule = Form.create({ name: 'dynamic_rule' })(DynamicRule);\nReactDOM.render(<WrappedDynamicRule />, mountNode);\n")),(0,l.kt)("h3",{id:"\u6821\u9a8c\u5176\u4ed6\u7ec4\u4ef6"},"\u6821\u9a8c\u5176\u4ed6\u7ec4\u4ef6"),(0,l.kt)("p",null,"\u4ee5\u4e0a\u6f14\u793a\u6ca1\u6709\u51fa\u73b0\u7684\u8868\u5355\u63a7\u4ef6\u5bf9\u5e94\u7684\u6821\u9a8c\u6f14\u793a\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},'const { Option } = Select;\n\nclass Demo extends React.Component {\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        console.log(\'Received values of form: \', values);\n      }\n    });\n  };\n\n  normFile = e => {\n    console.log(\'Upload event:\', e);\n    if (Array.isArray(e)) {\n      return e;\n    }\n    return e && e.fileList;\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const formItemLayout = {\n      labelCol: { span: 6 },\n      wrapperCol: { span: 14 },\n    };\n    return (\n      <Form {...formItemLayout} onSubmit={this.handleSubmit}>\n        <Form.Item label="Plain Text">\n          <span className="ant-form-text">China</span>\n        </Form.Item>\n        <Form.Item label="Select" hasFeedback>\n          {getFieldDecorator(\'select\', {\n            rules: [{ required: true, message: \'Please select your country!\' }],\n          })(\n            <Select placeholder="Please select a country">\n              <Option value="china">China</Option>\n              <Option value="usa">U.S.A</Option>\n            </Select>,\n          )}\n        </Form.Item>\n\n        <Form.Item label="Select[multiple]">\n          {getFieldDecorator(\'select-multiple\', {\n            rules: [\n              { required: true, message: \'Please select your favourite colors!\', type: \'array\' },\n            ],\n          })(\n            <Select mode="multiple" placeholder="Please select favourite colors">\n              <Option value="red">Red</Option>\n              <Option value="green">Green</Option>\n              <Option value="blue">Blue</Option>\n            </Select>,\n          )}\n        </Form.Item>\n\n        <Form.Item label="InputNumber">\n          {getFieldDecorator(\'input-number\', { initialValue: 3 })(<InputNumber min={1} max={10} />)}\n          <span className="ant-form-text"> machines</span>\n        </Form.Item>\n\n        <Form.Item label="Switch">\n          {getFieldDecorator(\'switch\', { valuePropName: \'checked\' })(<Switch />)}\n        </Form.Item>\n\n        <Form.Item label="Slider">\n          {getFieldDecorator(\'slider\')(\n            <Slider\n              marks={{\n                0: \'A\',\n                20: \'B\',\n                40: \'C\',\n                60: \'D\',\n                80: \'E\',\n                100: \'F\',\n              }}\n            />,\n          )}\n        </Form.Item>\n\n        <Form.Item label="Radio.Group">\n          {getFieldDecorator(\'radio-group\')(\n            <Radio.Group>\n              <Radio value="a">item 1</Radio>\n              <Radio value="b">item 2</Radio>\n              <Radio value="c">item 3</Radio>\n            </Radio.Group>,\n          )}\n        </Form.Item>\n\n        <Form.Item label="Radio.Button">\n          {getFieldDecorator(\'radio-button\')(\n            <Radio.Group>\n              <Radio.Button value="a">item 1</Radio.Button>\n              <Radio.Button value="b">item 2</Radio.Button>\n              <Radio.Button value="c">item 3</Radio.Button>\n            </Radio.Group>,\n          )}\n        </Form.Item>\n\n        <Form.Item label="Checkbox.Group">\n          {getFieldDecorator(\'checkbox-group\', {\n            initialValue: [\'A\', \'B\'],\n          })(\n            <Checkbox.Group style={{ width: \'100%\' }}>\n              <Row>\n                <Col span={8}>\n                  <Checkbox value="A">A</Checkbox>\n                </Col>\n                <Col span={8}>\n                  <Checkbox disabled value="B">\n                    B\n                  </Checkbox>\n                </Col>\n                <Col span={8}>\n                  <Checkbox value="C">C</Checkbox>\n                </Col>\n                <Col span={8}>\n                  <Checkbox value="D">D</Checkbox>\n                </Col>\n                <Col span={8}>\n                  <Checkbox value="E">E</Checkbox>\n                </Col>\n              </Row>\n            </Checkbox.Group>,\n          )}\n        </Form.Item>\n\n        <Form.Item label="Rate">\n          {getFieldDecorator(\'rate\', {\n            initialValue: 3.5,\n          })(<Rate />)}\n        </Form.Item>\n\n        <Form.Item label="Upload" extra="longgggggggggggggggggggggggggggggggggg">\n          {getFieldDecorator(\'upload\', {\n            valuePropName: \'fileList\',\n            getValueFromEvent: this.normFile,\n          })(\n            <Upload name="logo" action="/upload.do" listType="picture">\n              <Button>\n                <Icon type="upload" /> Click to upload\n              </Button>\n            </Upload>,\n          )}\n        </Form.Item>\n\n        <Form.Item label="Dragger">\n          {getFieldDecorator(\'dragger\', {\n            valuePropName: \'fileList\',\n            getValueFromEvent: this.normFile,\n          })(\n            <Upload.Dragger name="files" action="/upload.do">\n              <p className="ant-upload-drag-icon">\n                <Icon type="inbox" />\n              </p>\n              <p className="ant-upload-text">Click or drag file to this area to upload</p>\n              <p className="ant-upload-hint">Support for a single or bulk upload.</p>\n            </Upload.Dragger>,\n          )}\n        </Form.Item>\n\n        <Form.Item wrapperCol={{ span: 12, offset: 6 }}>\n          <Button type="primary" htmlType="submit">\n            Submit\n          </Button>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nconst WrappedDemo = Form.create({ name: \'validate_other\' })(Demo);\n\nReactDOM.render(<WrappedDemo />, mountNode);\n')),(0,l.kt)("h2",{id:"api"},"API"),(0,l.kt)("h3",{id:"form"},"Form"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"\u66f4\u591a\u793a\u4f8b\u53c2\u8003 ",(0,l.kt)("a",{parentName:"strong",href:"http://react-component.github.io/form/"},"rc-form")),"\u3002"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7248\u672c"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"form"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7ecf ",(0,l.kt)("inlineCode",{parentName:"td"},"Form.create()")," \u5305\u88c5\u8fc7\u7684\u7ec4\u4ef6\u4f1a\u81ea\u5e26 ",(0,l.kt)("inlineCode",{parentName:"td"},"this.props.form")," \u5c5e\u6027"),(0,l.kt)("td",{parentName:"tr",align:null},"object"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"hideRequiredMark"),(0,l.kt)("td",{parentName:"tr",align:null},"\u9690\u85cf\u6240\u6709\u8868\u5355\u9879\u7684\u5fc5\u9009\u6807\u8bb0"),(0,l.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"labelAlign"),(0,l.kt)("td",{parentName:"tr",align:null},"label \u6807\u7b7e\u7684\u6587\u672c\u5bf9\u9f50\u65b9\u5f0f"),(0,l.kt)("td",{parentName:"tr",align:null},"'left'"),(0,l.kt)("td",{parentName:"tr",align:null},"'right'"),(0,l.kt)("td",{parentName:"tr",align:null},"'right'")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"labelCol"),(0,l.kt)("td",{parentName:"tr",align:null},"\uff083.14.0 \u65b0\u589e\uff0c\u4e4b\u524d\u7684\u7248\u672c\u53ea\u80fd\u8bbe\u7f6e\u5230 FormItem \u4e0a\u3002\uff09label \u6807\u7b7e\u5e03\u5c40\uff0c\u540c ",(0,l.kt)("inlineCode",{parentName:"td"},"<Col>")," \u7ec4\u4ef6\uff0c\u8bbe\u7f6e ",(0,l.kt)("inlineCode",{parentName:"td"},"span")," ",(0,l.kt)("inlineCode",{parentName:"td"},"offset")," \u503c\uff0c\u5982 ",(0,l.kt)("inlineCode",{parentName:"td"},"{span: 3, offset: 12}")," \u6216 ",(0,l.kt)("inlineCode",{parentName:"td"},"sm: {span: 3, offset: 12}")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://ant.design/components/grid/#Col"},"object")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"3.14.0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"layout"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8868\u5355\u5e03\u5c40"),(0,l.kt)("td",{parentName:"tr",align:null},"'horizontal'"),(0,l.kt)("td",{parentName:"tr",align:null},"'vertical'"),(0,l.kt)("td",{parentName:"tr",align:null},"'inline'")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"onSubmit"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6570\u636e\u9a8c\u8bc1\u6210\u529f\u540e\u56de\u8c03\u4e8b\u4ef6"),(0,l.kt)("td",{parentName:"tr",align:null},"Function(e:Event)"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"wrapperCol"),(0,l.kt)("td",{parentName:"tr",align:null},"\uff083.14.0 \u65b0\u589e\uff0c\u4e4b\u524d\u7684\u7248\u672c\u53ea\u80fd\u8bbe\u7f6e\u5230 FormItem \u4e0a\u3002\uff09\u9700\u8981\u4e3a\u8f93\u5165\u63a7\u4ef6\u8bbe\u7f6e\u5e03\u5c40\u6837\u5f0f\u65f6\uff0c\u4f7f\u7528\u8be5\u5c5e\u6027\uff0c\u7528\u6cd5\u540c labelCol"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://ant.design/components/grid-cn/#Col"},"object")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"3.14.0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"colon"),(0,l.kt)("td",{parentName:"tr",align:null},"\u914d\u7f6e Form.Item \u7684 colon \u7684\u9ed8\u8ba4\u503c (\u53ea\u6709\u5728\u5c5e\u6027 layout \u4e3a horizontal \u65f6\u6709\u6548)"),(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"3.15.0")))),(0,l.kt)("h3",{id:"formcreateoptions"},"Form.create(options)"),(0,l.kt)("p",null,"\u4f7f\u7528\u65b9\u5f0f\u5982\u4e0b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"class CustomizedForm extends React.Component {}\n\nCustomizedForm = Form.create({})(CustomizedForm);\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"options")," \u7684\u914d\u7f6e\u9879\u5982\u4e0b\u3002"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7248\u672c"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"mapPropsToFields"),(0,l.kt)("td",{parentName:"tr",align:null},"\u628a\u7236\u7ec4\u4ef6\u7684\u5c5e\u6027\u6620\u5c04\u5230\u8868\u5355\u9879\u4e0a\uff08\u5982\uff1a\u628a Redux store \u4e2d\u7684\u503c\u8bfb\u51fa\uff09\uff0c\u9700\u8981\u5bf9\u8fd4\u56de\u503c\u4e2d\u7684\u8868\u5355\u57df\u6570\u636e\u7528 ",(0,l.kt)("a",{parentName:"td",href:"#Form.createFormField"},(0,l.kt)("inlineCode",{parentName:"a"},"Form.createFormField"))," \u6807\u8bb0\uff0c\u6ce8\u610f\u8868\u5355\u9879\u5c06\u53d8\u6210\u53d7\u63a7\u7ec4\u4ef6, error \u7b49\u4e5f\u9700\u8981\u4e00\u5e76\u624b\u52a8\u4f20\u5165"),(0,l.kt)("td",{parentName:"tr",align:null},"(props) => ({ ","[","fieldName]: FormField { value } })"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"name"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u8868\u5355\u57df\u5185\u5b57\u6bb5 id \u7684\u524d\u7f00"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"3.12.0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"validateMessages"),(0,l.kt)("td",{parentName:"tr",align:null},"\u9ed8\u8ba4\u6821\u9a8c\u4fe1\u606f\uff0c\u53ef\u7528\u4e8e\u628a\u9ed8\u8ba4\u9519\u8bef\u4fe1\u606f\u6539\u4e3a\u4e2d\u6587\u7b49\uff0c\u683c\u5f0f\u4e0e ",(0,l.kt)("a",{parentName:"td",href:"https://github.com/yiminghe/async-validator/blob/master/src/messages.js"},"newMessages")," \u8fd4\u56de\u503c\u4e00\u81f4"),(0,l.kt)("td",{parentName:"tr",align:null},"Object { ","[","nested.path]: String }"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"onFieldsChange"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f53 ",(0,l.kt)("inlineCode",{parentName:"td"},"Form.Item")," \u5b50\u8282\u70b9\u7684\u503c\uff08\u5305\u62ec error\uff09\u53d1\u751f\u6539\u53d8\u65f6\u89e6\u53d1\uff0c\u53ef\u4ee5\u628a\u5bf9\u5e94\u7684\u503c\u8f6c\u5b58\u5230 Redux store"),(0,l.kt)("td",{parentName:"tr",align:null},"Function(props, changedFields, allFields)"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"onValuesChange"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4efb\u4e00\u8868\u5355\u57df\u7684\u503c\u53d1\u751f\u6539\u53d8\u65f6\u7684\u56de\u8c03"),(0,l.kt)("td",{parentName:"tr",align:null},"(props, changedValues, allValues) => void"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("p",null,"\u7ecf\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"Form.create")," \u4e4b\u540e\u5982\u679c\u8981\u62ff\u5230 ",(0,l.kt)("inlineCode",{parentName:"p"},"ref"),"\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"rc-form")," \u63d0\u4f9b\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"wrappedComponentRef"),"\uff0c",(0,l.kt)("a",{parentName:"p",href:"https://github.com/react-component/form#note-use-wrappedcomponentref-instead-of-withref-after-rc-form140"},"\u8be6\u7ec6\u5185\u5bb9\u53ef\u4ee5\u67e5\u770b\u8fd9\u91cc"),"\u3002"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"class CustomizedForm extends React.Component { ... }\n\n// use wrappedComponentRef\nconst EnhancedForm =  Form.create()(CustomizedForm);\n<EnhancedForm wrappedComponentRef={(form) => this.form = form} />\nthis.form // => The instance of CustomizedForm\n")),(0,l.kt)("p",null,"\u7ecf\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"Form.create")," \u5305\u88c5\u7684\u7ec4\u4ef6\u5c06\u4f1a\u81ea\u5e26 ",(0,l.kt)("inlineCode",{parentName:"p"},"this.props.form")," \u5c5e\u6027\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"this.props.form")," \u63d0\u4f9b\u7684 API \u5982\u4e0b\uff1a"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"\u6ce8\u610f\uff1a\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"getFieldsValue")," ",(0,l.kt)("inlineCode",{parentName:"p"},"getFieldValue")," ",(0,l.kt)("inlineCode",{parentName:"p"},"setFieldsValue")," \u7b49\u65f6\uff0c\u5e94\u786e\u4fdd\u5bf9\u5e94\u7684 field \u5df2\u7ecf\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"getFieldDecorator")," \u6ce8\u518c\u8fc7\u4e86\u3002")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u65b9\u6cd5"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7248\u672c"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"getFieldDecorator"),(0,l.kt)("td",{parentName:"tr",align:null},"\u7528\u4e8e\u548c\u8868\u5355\u8fdb\u884c\u53cc\u5411\u7ed1\u5b9a\uff0c\u8be6\u89c1\u4e0b\u65b9\u63cf\u8ff0"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"getFieldError"),(0,l.kt)("td",{parentName:"tr",align:null},"\u83b7\u53d6\u67d0\u4e2a\u8f93\u5165\u63a7\u4ef6\u7684 Error"),(0,l.kt)("td",{parentName:"tr",align:null},"Function(name)"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"getFieldsError"),(0,l.kt)("td",{parentName:"tr",align:null},"\u83b7\u53d6\u4e00\u7ec4\u8f93\u5165\u63a7\u4ef6\u7684 Error \uff0c\u5982\u4e0d\u4f20\u5165\u53c2\u6570\uff0c\u5219\u83b7\u53d6\u5168\u90e8\u7ec4\u4ef6\u7684 Error"),(0,l.kt)("td",{parentName:"tr",align:null},"Function(","[","names: string","[","]])"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"getFieldsValue"),(0,l.kt)("td",{parentName:"tr",align:null},"\u83b7\u53d6\u4e00\u7ec4\u8f93\u5165\u63a7\u4ef6\u7684\u503c\uff0c\u5982\u4e0d\u4f20\u5165\u53c2\u6570\uff0c\u5219\u83b7\u53d6\u5168\u90e8\u7ec4\u4ef6\u7684\u503c"),(0,l.kt)("td",{parentName:"tr",align:null},"Function(","[","fieldNames: string","[","]])"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"getFieldValue"),(0,l.kt)("td",{parentName:"tr",align:null},"\u83b7\u53d6\u4e00\u4e2a\u8f93\u5165\u63a7\u4ef6\u7684\u503c"),(0,l.kt)("td",{parentName:"tr",align:null},"Function(fieldName: string)"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"isFieldsTouched"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5224\u65ad\u662f\u5426\u4efb\u4e00\u8f93\u5165\u63a7\u4ef6\u7ecf\u5386\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"td"},"getFieldDecorator")," \u7684\u503c\u6536\u96c6\u65f6\u673a ",(0,l.kt)("inlineCode",{parentName:"td"},"options.trigger")),(0,l.kt)("td",{parentName:"tr",align:null},"(names?: string","[","]) => boolean"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"isFieldTouched"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5224\u65ad\u4e00\u4e2a\u8f93\u5165\u63a7\u4ef6\u662f\u5426\u7ecf\u5386\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"td"},"getFieldDecorator")," \u7684\u503c\u6536\u96c6\u65f6\u673a ",(0,l.kt)("inlineCode",{parentName:"td"},"options.trigger")),(0,l.kt)("td",{parentName:"tr",align:null},"(name: string) => boolean"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"isFieldValidating"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5224\u65ad\u4e00\u4e2a\u8f93\u5165\u63a7\u4ef6\u662f\u5426\u5728\u6821\u9a8c\u72b6\u6001"),(0,l.kt)("td",{parentName:"tr",align:null},"Function(name)"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"resetFields"),(0,l.kt)("td",{parentName:"tr",align:null},"\u91cd\u7f6e\u4e00\u7ec4\u8f93\u5165\u63a7\u4ef6\u7684\u503c\uff08\u4e3a ",(0,l.kt)("inlineCode",{parentName:"td"},"initialValue"),"\uff09\u4e0e\u72b6\u6001\uff0c\u5982\u4e0d\u4f20\u5165\u53c2\u6570\uff0c\u5219\u91cd\u7f6e\u6240\u6709\u7ec4\u4ef6"),(0,l.kt)("td",{parentName:"tr",align:null},"Function(","[","names: string","[","]])"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"setFields"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u4e00\u7ec4\u8f93\u5165\u63a7\u4ef6\u7684\u503c\u4e0e\u9519\u8bef\u72b6\u6001\uff1a",(0,l.kt)("a",{parentName:"td",href:"https://github.com/react-component/form/blob/3b9959b57ab30b41d8890ff30c79a7e7c383cad3/examples/server-validate.js#L74-L79"},"\u4ee3\u7801")),(0,l.kt)("td",{parentName:"tr",align:null},"({",(0,l.kt)("br",null),"\xa0\xa0","[","fieldName]: {value: any, errors: ","[","Error] }",(0,l.kt)("br",null),"}) => void"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"setFieldsValue"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u4e00\u7ec4\u8f93\u5165\u63a7\u4ef6\u7684\u503c\uff08\u6ce8\u610f\uff1a\u4e0d\u8981\u5728 ",(0,l.kt)("inlineCode",{parentName:"td"},"componentWillReceiveProps")," \u5185\u4f7f\u7528\uff0c\u5426\u5219\u4f1a\u5bfc\u81f4\u6b7b\u5faa\u73af\uff0c",(0,l.kt)("a",{parentName:"td",href:"https://github.com/ant-design/ant-design/issues/2985"},"\u539f\u56e0"),"\uff09"),(0,l.kt)("td",{parentName:"tr",align:null},"(",(0,l.kt)("br",null),"\xa0\xa0{ ","[","fieldName]: value },",(0,l.kt)("br",null),"\xa0\xa0callback: Function",(0,l.kt)("br",null),") => void"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"validateFields"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6821\u9a8c\u5e76\u83b7\u53d6\u4e00\u7ec4\u8f93\u5165\u57df\u7684\u503c\u4e0e Error\uff0c\u82e5 fieldNames \u53c2\u6570\u4e3a\u7a7a\uff0c\u5219\u6821\u9a8c\u5168\u90e8\u7ec4\u4ef6"),(0,l.kt)("td",{parentName:"tr",align:null},"(",(0,l.kt)("br",null),"\xa0\xa0","[","fieldNames: string","[","]],",(0,l.kt)("br",null),"\xa0\xa0","[","options: object],",(0,l.kt)("br",null),"\xa0\xa0callback(errors, values)",(0,l.kt)("br",null),") => void"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"validateFieldsAndScroll"),(0,l.kt)("td",{parentName:"tr",align:null},"\u4e0e ",(0,l.kt)("inlineCode",{parentName:"td"},"validateFields")," \u76f8\u4f3c\uff0c\u4f46\u6821\u9a8c\u5b8c\u540e\uff0c\u5982\u679c\u6821\u9a8c\u4e0d\u901a\u8fc7\u7684\u83dc\u5355\u57df\u4e0d\u5728\u53ef\u89c1\u8303\u56f4\u5185\uff0c\u5219\u81ea\u52a8\u6eda\u52a8\u8fdb\u53ef\u89c1\u8303\u56f4"),(0,l.kt)("td",{parentName:"tr",align:null},"\u53c2\u8003 ",(0,l.kt)("inlineCode",{parentName:"td"},"validateFields")),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h3",{id:"validatefieldsvalidatefieldsandscroll"},"validateFields/validateFieldsAndScroll"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"const {\n  form: { validateFields },\n} = this.props;\nvalidateFields((errors, values) => {\n  // ...\n});\nvalidateFields(['field1', 'field2'], (errors, values) => {\n  // ...\n});\nvalidateFields(['field1', 'field2'], options, (errors, values) => {\n  // ...\n});\n")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7248\u672c"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options.first"),(0,l.kt)("td",{parentName:"tr",align:null},"\u82e5\u4e3a true\uff0c\u5219\u6bcf\u4e00\u8868\u5355\u57df\u7684\u90fd\u4f1a\u5728\u78b0\u5230\u7b2c\u4e00\u4e2a\u5931\u8d25\u4e86\u7684\u6821\u9a8c\u89c4\u5219\u540e\u505c\u6b62\u6821\u9a8c"),(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"3.9.3")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options.firstFields"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6307\u5b9a\u8868\u5355\u57df\u4f1a\u5728\u78b0\u5230\u7b2c\u4e00\u4e2a\u5931\u8d25\u4e86\u7684\u6821\u9a8c\u89c4\u5219\u540e\u505c\u6b62\u6821\u9a8c"),(0,l.kt)("td",{parentName:"tr",align:null},"String","[","]"),(0,l.kt)("td",{parentName:"tr",align:null},"[","]"),(0,l.kt)("td",{parentName:"tr",align:null},"3.9.3")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options.force"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5bf9\u5df2\u7ecf\u6821\u9a8c\u8fc7\u7684\u8868\u5355\u57df\uff0c\u5728 validateTrigger \u518d\u6b21\u88ab\u89e6\u53d1\u65f6\u662f\u5426\u518d\u6b21\u6821\u9a8c"),(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"3.9.3")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options.scroll"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5b9a\u4e49 validateFieldsAndScroll \u7684\u6eda\u52a8\u884c\u4e3a\uff0c\u8be6\u7ec6\u914d\u7f6e\u89c1 ",(0,l.kt)("a",{parentName:"td",href:"https://github.com/yiminghe/dom-scroll-into-view#function-parameter"},"dom-scroll-into-view config")),(0,l.kt)("td",{parentName:"tr",align:null},"Object"),(0,l.kt)("td",{parentName:"tr",align:null},"{}"),(0,l.kt)("td",{parentName:"tr",align:null},"3.9.3")))),(0,l.kt)("h4",{id:"validatefields-\u7684-callback-\u53c2\u6570\u793a\u4f8b"},"validateFields \u7684 callback \u53c2\u6570\u793a\u4f8b"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"errors"),":"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-js"},'{\n  "username": {\n    "errors": [\n      {\n        "message": "Please input your username!",\n        "field": "username"\n      }\n    ]\n  },\n  "password": {\n    "errors": [\n      {\n        "message": "Please input your Password!",\n        "field": "password"\n      }\n    ]\n  }\n}\n'))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("inlineCode",{parentName:"p"},"values"),":"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-js"},'{\n  "username": "username",\n  "password": "password",\n}\n')))),(0,l.kt)("h3",{id:"formcreateformfield"},"Form.createFormField"),(0,l.kt)("p",null,"\u7528\u4e8e\u6807\u8bb0 ",(0,l.kt)("inlineCode",{parentName:"p"},"mapPropsToFields")," \u8fd4\u56de\u7684\u8868\u5355\u57df\u6570\u636e\uff0c",(0,l.kt)("a",{parentName:"p",href:"#components-form-demo-global-state"},"\u4f8b\u5b50"),"\u3002"),(0,l.kt)("h3",{id:"thispropsformgetfielddecoratorid-options"},"this.props.form.getFieldDecorator(id, options)"),(0,l.kt)("p",null,"\u7ecf\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"getFieldDecorator")," \u5305\u88c5\u7684\u63a7\u4ef6\uff0c\u8868\u5355\u63a7\u4ef6\u4f1a\u81ea\u52a8\u6dfb\u52a0 ",(0,l.kt)("inlineCode",{parentName:"p"},"value"),"\uff08\u6216 ",(0,l.kt)("inlineCode",{parentName:"p"},"valuePropName")," \u6307\u5b9a\u7684\u5176\u4ed6\u5c5e\u6027\uff09 ",(0,l.kt)("inlineCode",{parentName:"p"},"onChange"),"\uff08\u6216 ",(0,l.kt)("inlineCode",{parentName:"p"},"trigger")," \u6307\u5b9a\u7684\u5176\u4ed6\u5c5e\u6027\uff09\uff0c\u6570\u636e\u540c\u6b65\u5c06\u88ab Form \u63a5\u7ba1\uff0c\u8fd9\u4f1a\u5bfc\u81f4\u4ee5\u4e0b\u7ed3\u679c\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u4f60",(0,l.kt)("strong",{parentName:"li"},"\u4e0d\u518d\u9700\u8981\u4e5f\u4e0d\u5e94\u8be5"),"\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"onChange")," \u6765\u505a\u540c\u6b65\uff0c\u4f46\u8fd8\u662f\u53ef\u4ee5\u7ee7\u7eed\u76d1\u542c ",(0,l.kt)("inlineCode",{parentName:"li"},"onChange")," \u7b49\u4e8b\u4ef6\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u4f60\u4e0d\u80fd\u7528\u63a7\u4ef6\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"value")," ",(0,l.kt)("inlineCode",{parentName:"li"},"defaultValue")," \u7b49\u5c5e\u6027\u6765\u8bbe\u7f6e\u8868\u5355\u57df\u7684\u503c\uff0c\u9ed8\u8ba4\u503c\u53ef\u4ee5\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"getFieldDecorator")," \u91cc\u7684 ",(0,l.kt)("inlineCode",{parentName:"li"},"initialValue"),"\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u4f60\u4e0d\u5e94\u8be5\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"setState"),"\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"li"},"this.props.form.setFieldsValue")," \u6765\u52a8\u6001\u6539\u53d8\u8868\u5355\u503c\u3002")),(0,l.kt)("h4",{id:"\u7279\u522b\u6ce8\u610f"},"\u7279\u522b\u6ce8\u610f"),(0,l.kt)("p",null,"\u5982\u679c\u4f7f\u7528\u7684\u662f ",(0,l.kt)("inlineCode",{parentName:"p"},"react@<15.3.0"),"\uff0c\u5219 ",(0,l.kt)("inlineCode",{parentName:"p"},"getFieldDecorator")," \u8c03\u7528\u4e0d\u80fd\u4f4d\u4e8e\u7eaf\u51fd\u6570\u7ec4\u4ef6\u4e2d: ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/facebook/react/pull/6534"},"https://github.com/facebook/react/pull/6534")),(0,l.kt)("h4",{id:"getfielddecoratorid-options-\u53c2\u6570"},"getFieldDecorator(id, options) \u53c2\u6570"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7248\u672c"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"id"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5fc5\u586b\u8f93\u5165\u63a7\u4ef6\u552f\u4e00\u6807\u5fd7\u3002\u652f\u6301\u5d4c\u5957\u5f0f\u7684",(0,l.kt)("a",{parentName:"td",href:"https://github.com/react-component/form/pull/48"},"\u5199\u6cd5"),"\u3002"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options.getValueFromEvent"),(0,l.kt)("td",{parentName:"tr",align:null},"\u53ef\u4ee5\u628a onChange \u7684\u53c2\u6570\uff08\u5982 event\uff09\u8f6c\u5316\u4e3a\u63a7\u4ef6\u7684\u503c"),(0,l.kt)("td",{parentName:"tr",align:null},"function(..args)"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://github.com/react-component/form#option-object"},"reference")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options.initialValue"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5b50\u8282\u70b9\u7684\u521d\u59cb\u503c\uff0c\u7c7b\u578b\u3001\u53ef\u9009\u503c\u5747\u7531\u5b50\u8282\u70b9\u51b3\u5b9a(",(0,l.kt)("a",{parentName:"td",href:"https://github.com/ant-design/ant-design/issues/4093"},"\u6ce8\u610f\uff1a\u7531\u4e8e\u5185\u90e8\u6821\u9a8c\u65f6\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"a"},"===")," \u5224\u65ad\u662f\u5426\u53d8\u5316\uff0c\u5efa\u8bae\u4f7f\u7528\u53d8\u91cf\u7f13\u5b58\u6240\u9700\u8bbe\u7f6e\u7684\u503c\u800c\u975e\u76f4\u63a5\u4f7f\u7528\u5b57\u9762\u91cf"),")"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options.normalize"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8f6c\u6362\u9ed8\u8ba4\u7684 value \u7ed9\u63a7\u4ef6\uff0c",(0,l.kt)("a",{parentName:"td",href:"https://codepen.io/afc163/pen/JJVXzG?editors=001"},"\u4e00\u4e2a\u9009\u62e9\u5168\u90e8\u7684\u4f8b\u5b50")),(0,l.kt)("td",{parentName:"tr",align:null},"function(value, prevValue, allValues): any"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options.preserve"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5373\u4fbf\u5b57\u6bb5\u4e0d\u518d\u4f7f\u7528\uff0c\u4e5f\u4fdd\u7559\u8be5\u5b57\u6bb5\u7684\u503c"),(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null},"3.12.0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options.rules"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6821\u9a8c\u89c4\u5219\uff0c\u53c2\u8003\u4e0b\u65b9\u6587\u6863"),(0,l.kt)("td",{parentName:"tr",align:null},"object","[","]"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options.trigger"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6536\u96c6\u5b50\u8282\u70b9\u7684\u503c\u7684\u65f6\u673a"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"'onChange'"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options.validateFirst"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5f53\u67d0\u4e00\u89c4\u5219\u6821\u9a8c\u4e0d\u901a\u8fc7\u65f6\uff0c\u662f\u5426\u505c\u6b62\u5269\u4e0b\u7684\u89c4\u5219\u7684\u6821\u9a8c"),(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options.validateTrigger"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6821\u9a8c\u5b50\u8282\u70b9\u503c\u7684\u65f6\u673a"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"string","[","]"),(0,l.kt)("td",{parentName:"tr",align:null},"'onChange'")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"options.valuePropName"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5b50\u8282\u70b9\u7684\u503c\u7684\u5c5e\u6027\uff0c\u5982 Switch \u7684\u662f 'checked'"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"'value'"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("p",null,"\u66f4\u591a\u53c2\u6570\u8bf7\u67e5\u770b ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/react-component/form#option-object"},"rc-form option"),"\u3002"),(0,l.kt)("h3",{id:"formitem"},"Form.Item"),(0,l.kt)("p",null,"\u6ce8\u610f\uff1a\u4e00\u4e2a Form.Item \u5efa\u8bae\u53ea\u653e\u4e00\u4e2a\u88ab getFieldDecorator \u88c5\u9970\u8fc7\u7684 child\uff0c\u5f53\u6709\u591a\u4e2a\u88ab\u88c5\u9970\u8fc7\u7684 child \u65f6\uff0c",(0,l.kt)("inlineCode",{parentName:"p"},"help")," ",(0,l.kt)("inlineCode",{parentName:"p"},"required")," ",(0,l.kt)("inlineCode",{parentName:"p"},"validateStatus")," \u65e0\u6cd5\u81ea\u52a8\u751f\u6210\u3002"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7248\u672c"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"colon"),(0,l.kt)("td",{parentName:"tr",align:null},"\u914d\u5408 label \u5c5e\u6027\u4f7f\u7528\uff0c\u8868\u793a\u662f\u5426\u663e\u793a label \u540e\u9762\u7684\u5192\u53f7"),(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"extra"),(0,l.kt)("td",{parentName:"tr",align:null},"\u989d\u5916\u7684\u63d0\u793a\u4fe1\u606f\uff0c\u548c help \u7c7b\u4f3c\uff0c\u5f53\u9700\u8981\u9519\u8bef\u4fe1\u606f\u548c\u63d0\u793a\u6587\u6848\u540c\u65f6\u51fa\u73b0\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a\u3002"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"ReactNode"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"hasFeedback"),(0,l.kt)("td",{parentName:"tr",align:null},"\u914d\u5408 validateStatus \u5c5e\u6027\u4f7f\u7528\uff0c\u5c55\u793a\u6821\u9a8c\u72b6\u6001\u56fe\u6807\uff0c\u5efa\u8bae\u53ea\u914d\u5408 Input \u7ec4\u4ef6\u4f7f\u7528"),(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"help"),(0,l.kt)("td",{parentName:"tr",align:null},"\u63d0\u793a\u4fe1\u606f\uff0c\u5982\u4e0d\u8bbe\u7f6e\uff0c\u5219\u4f1a\u6839\u636e\u6821\u9a8c\u89c4\u5219\u81ea\u52a8\u751f\u6210"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"ReactNode"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"htmlFor"),(0,l.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u5b50\u5143\u7d20 label ",(0,l.kt)("inlineCode",{parentName:"td"},"htmlFor")," \u5c5e\u6027"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"3.17.0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"label"),(0,l.kt)("td",{parentName:"tr",align:null},"label \u6807\u7b7e\u7684\u6587\u672c"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"ReactNode"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"labelCol"),(0,l.kt)("td",{parentName:"tr",align:null},"label \u6807\u7b7e\u5e03\u5c40\uff0c\u540c ",(0,l.kt)("inlineCode",{parentName:"td"},"<Col>")," \u7ec4\u4ef6\uff0c\u8bbe\u7f6e ",(0,l.kt)("inlineCode",{parentName:"td"},"span")," ",(0,l.kt)("inlineCode",{parentName:"td"},"offset")," \u503c\uff0c\u5982 ",(0,l.kt)("inlineCode",{parentName:"td"},"{span: 3, offset: 12}")," \u6216 ",(0,l.kt)("inlineCode",{parentName:"td"},"sm: {span: 3, offset: 12}"),"\u3002\u5728 3.14.0 \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 Form \u7684 labelCol \u8fdb\u884c\u7edf\u4e00\u8bbe\u7f6e\u3002\u5f53\u548c Form \u540c\u65f6\u8bbe\u7f6e\u65f6\uff0c\u4ee5 FormItem \u4e3a\u51c6\u3002"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://ant.design/components/grid/#Col"},"object")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"labelAlign"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6807\u7b7e\u6587\u672c\u5bf9\u9f50\u65b9\u5f0f"),(0,l.kt)("td",{parentName:"tr",align:null},"'left'"),(0,l.kt)("td",{parentName:"tr",align:null},"'right'"),(0,l.kt)("td",{parentName:"tr",align:null},"'right'")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"required"),(0,l.kt)("td",{parentName:"tr",align:null},"\u662f\u5426\u5fc5\u586b\uff0c\u5982\u4e0d\u8bbe\u7f6e\uff0c\u5219\u4f1a\u6839\u636e\u6821\u9a8c\u89c4\u5219\u81ea\u52a8\u751f\u6210"),(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"validateStatus"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6821\u9a8c\u72b6\u6001\uff0c\u5982\u4e0d\u8bbe\u7f6e\uff0c\u5219\u4f1a\u6839\u636e\u6821\u9a8c\u89c4\u5219\u81ea\u52a8\u751f\u6210\uff0c\u53ef\u9009\uff1a'success' 'warning' 'error' 'validating'"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"wrapperCol"),(0,l.kt)("td",{parentName:"tr",align:null},"\u9700\u8981\u4e3a\u8f93\u5165\u63a7\u4ef6\u8bbe\u7f6e\u5e03\u5c40\u6837\u5f0f\u65f6\uff0c\u4f7f\u7528\u8be5\u5c5e\u6027\uff0c\u7528\u6cd5\u540c labelCol\u3002\u5728 3.14.0 \u4e4b\u540e\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7 Form \u7684 wrapperCol \u8fdb\u884c\u7edf\u4e00\u8bbe\u7f6e\u3002\u5f53\u548c Form \u540c\u65f6\u8bbe\u7f6e\u65f6\uff0c\u4ee5 FormItem \u4e3a\u51c6\u3002"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("a",{parentName:"td",href:"https://ant.design/components/grid/#Col"},"object")),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h3",{id:"\u6821\u9a8c\u89c4\u5219"},"\u6821\u9a8c\u89c4\u5219"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,l.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,l.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),(0,l.kt)("th",{parentName:"tr",align:null},"\u7248\u672c"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"enum"),(0,l.kt)("td",{parentName:"tr",align:null},"\u679a\u4e3e\u7c7b\u578b"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"len"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5b57\u6bb5\u957f\u5ea6"),(0,l.kt)("td",{parentName:"tr",align:null},"number"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"max"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6700\u5927\u957f\u5ea6"),(0,l.kt)("td",{parentName:"tr",align:null},"number"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"message"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6821\u9a8c\u6587\u6848"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"ReactNode"),(0,l.kt)("td",{parentName:"tr",align:null},"-")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"min"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6700\u5c0f\u957f\u5ea6"),(0,l.kt)("td",{parentName:"tr",align:null},"number"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pattern"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6b63\u5219\u8868\u8fbe\u5f0f\u6821\u9a8c"),(0,l.kt)("td",{parentName:"tr",align:null},"RegExp"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"required"),(0,l.kt)("td",{parentName:"tr",align:null},"\u662f\u5426\u5fc5\u9009"),(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false")),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"transform"),(0,l.kt)("td",{parentName:"tr",align:null},"\u6821\u9a8c\u524d\u8f6c\u6362\u5b57\u6bb5\u503c"),(0,l.kt)("td",{parentName:"tr",align:null},"function(value) => transformedValue:any"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"type"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5185\u5efa\u6821\u9a8c\u7c7b\u578b\uff0c",(0,l.kt)("a",{parentName:"td",href:"https://github.com/yiminghe/async-validator#type"},"\u53ef\u9009\u9879")),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"'string'"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"validator"),(0,l.kt)("td",{parentName:"tr",align:null},"\u81ea\u5b9a\u4e49\u6821\u9a8c\uff08\u6ce8\u610f\uff0c",(0,l.kt)("a",{parentName:"td",href:"https://github.com/ant-design/ant-design/issues/5155"},"callback \u5fc5\u987b\u88ab\u8c03\u7528"),"\uff09"),(0,l.kt)("td",{parentName:"tr",align:null},"function(rule, value, callback)"),(0,l.kt)("td",{parentName:"tr",align:null},"-"),(0,l.kt)("td",{parentName:"tr",align:null})),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"whitespace"),(0,l.kt)("td",{parentName:"tr",align:null},"\u5fc5\u9009\u65f6\uff0c\u7a7a\u683c\u662f\u5426\u4f1a\u88ab\u89c6\u4e3a\u9519\u8bef"),(0,l.kt)("td",{parentName:"tr",align:null},"boolean"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"false")),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("p",null,"\u66f4\u591a\u9ad8\u7ea7\u7528\u6cd5\u53ef\u7814\u7a76 ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/yiminghe/async-validator"},"async-validator"),"\u3002"),(0,l.kt)("h2",{id:"\u5728-typescript-\u4e2d\u4f7f\u7528"},"\u5728 TypeScript \u4e2d\u4f7f\u7528"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-tsx"},"import { Form } from 'antd';\nimport { FormComponentProps } from 'antd/es/form';\n\ninterface UserFormProps extends FormComponentProps {\n  age: number;\n  name: string;\n}\n\nclass UserForm extends React.Component<UserFormProps, any> {\n  // ...\n}\n\nconst App = Form.create<UserFormProps>({\n  // ...\n})(UserForm);\n")),(0,l.kt)("h2",{id:"faq"},"FAQ"),(0,l.kt)("h3",{id:"\u81ea\u5b9a\u4e49-validator-\u6ca1\u6709\u6548\u679c"},"\u81ea\u5b9a\u4e49 validator \u6ca1\u6709\u6548\u679c"),(0,l.kt)("p",null,"\u8fd9\u662f\u7531\u4e8e\u4f60\u7684 ",(0,l.kt)("inlineCode",{parentName:"p"},"validator")," \u6709\u9519\u8bef\u5bfc\u81f4 ",(0,l.kt)("inlineCode",{parentName:"p"},"callback")," \u6ca1\u6709\u6267\u884c\u5230\u3002\u4f60\u53ef\u4ee5\u9009\u62e9\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"async")," \u8fd4\u56de\u4e00\u4e2a promise \u6216\u8005\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"try...catch")," \u8fdb\u884c\u9519\u8bef\u6355\u83b7\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-jsx"},"validator: async (rule, value) => {\n  throw new Error('Something wrong!');\n}\n\n// or\n\nvalidator(rule, value, callback) => {\n  try {\n    throw new Error('Something wrong!');\n  } catch (err) {\n    callback(err);\n  }\n}\n")),(0,l.kt)("h3",{id:"\u5982\u4f55\u5728\u51fd\u6570\u7ec4\u4ef6\u4e2d\u62ff\u5230-form-\u5b9e\u4f8b"},"\u5982\u4f55\u5728\u51fd\u6570\u7ec4\u4ef6\u4e2d\u62ff\u5230 form \u5b9e\u4f8b\uff1f"),(0,l.kt)("p",null,"\u4f60\u9700\u8981\u901a\u8fc7 ",(0,l.kt)("inlineCode",{parentName:"p"},"forwardRef")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"useImperativeHandle")," \u7684\u7ec4\u5408\u4f7f\u7528\u6765\u5b9e\u73b0\u5728\u51fd\u6570\u7ec4\u4ef6\u4e2d\u6b63\u786e\u62ff\u5230 form \u5b9e\u4f8b\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-tsx"},"import React, { forwardRef, useImperativeHandle } from 'react';\nimport Form, { FormComponentProps } from 'antd/lib/form/Form';\n\nconst FCForm = forwardRef<FormComponentProps, FCFormProps>(({ form, onSubmit }, ref) => {\n  useImperativeHandle(ref, () => ({\n    form,\n  }));\n  `...the rest of your form`;\n});\nconst EnhancedFCForm = Form.create<FCFormProps>()(FCForm);\n")),(0,l.kt)("p",null,"\u4f7f\u7528\u8868\u5355\u7ec4\u4ef6\u53ef\u4ee5\u5199\u6210\u8fd9\u6837\uff1a"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-tsx"},"const TestForm = () => {\n  const formRef = createRef<Ref>();\n  return (\n    <EnhancedFCForm\n      onSubmit={() => console.log(formRef.current!.form.getFieldValue('name'))}\n      wrappedComponentRef={formRef}\n    />\n  );\n};\n")),(0,l.kt)("p",null,"\u5728\u7ebf\u793a\u4f8b\uff1a"),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://codesandbox.io/s/wrappedcomponentref-in-function-component-fj43c?fontsize=14%5C&hidenavigation=1%5C&theme=dark"},(0,l.kt)("img",{parentName:"a",src:"https://codesandbox.io/static/img/play-codesandbox.svg",alt:"Edit wrappedComponentRef-in-function-component"}))))}u.isMDXComponent=!0},30876:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>c});var a=t(2784);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)t=l[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var m=a.createContext({}),p=function(e){var n=a.useContext(m),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},d=function(e){var n=p(e.components);return a.createElement(m.Provider,{value:n},e.children)},s={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,l=e.originalType,m=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),u=p(t),c=r,g=u["".concat(m,".").concat(c)]||u[c]||s[c]||l;return t?a.createElement(g,o(o({ref:n},d),{},{components:t})):a.createElement(g,o({ref:n},d))}));function c(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var l=t.length,o=new Array(l);o[0]=u;var i={};for(var m in n)hasOwnProperty.call(n,m)&&(i[m]=n[m]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var p=2;p<l;p++)o[p]=t[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"}}]);