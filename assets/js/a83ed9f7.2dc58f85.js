"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[532],{95264:(n,e,t)=>{t.r(e),t.d(e,{frontMatter:()=>o,contentTitle:()=>s,metadata:()=>p,toc:()=>d,default:()=>m});var a=t(7896),l=t(31461),r=(t(2784),t(30876)),i=["components"],o={tags:["Components"],subtitle:"\u4e0a\u4f20",type:"\u6570\u636e\u5f55\u5165",title:"Upload \u4e0a\u4f20"},s=void 0,p={unversionedId:"components/data-entry/upload",id:"components/data-entry/upload",isDocsHomePage:!1,title:"Upload \u4e0a\u4f20",description:"---",source:"@site/docs/components/data-entry/upload.md",sourceDirName:"components/data-entry",slug:"/components/data-entry/upload",permalink:"/tnt-next/docs/components/data-entry/upload",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/components/data-entry/upload.md",tags:[{label:"Components",permalink:"/tnt-next/docs/tags/components"}],version:"current",frontMatter:{tags:["Components"],subtitle:"\u4e0a\u4f20",type:"\u6570\u636e\u5f55\u5165",title:"Upload \u4e0a\u4f20"},sidebar:"componentsSidebar",previous:{title:"TreeSelect \u6811\u9009\u62e9",permalink:"/tnt-next/docs/components/data-entry/tree-select"},next:{title:"Avatar \u5934\u50cf",permalink:"/tnt-next/docs/components/data-display/avatar"}},d=[{value:"\u4f55\u65f6\u4f7f\u7528",id:"\u4f55\u65f6\u4f7f\u7528",children:[],level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",children:[{value:"\u70b9\u51fb\u4e0a\u4f20",id:"\u70b9\u51fb\u4e0a\u4f20",children:[],level:3},{value:"\u7528\u6237\u5934\u50cf",id:"\u7528\u6237\u5934\u50cf",children:[],level:3},{value:"\u5df2\u4e0a\u4f20\u7684\u6587\u4ef6\u5217\u8868",id:"\u5df2\u4e0a\u4f20\u7684\u6587\u4ef6\u5217\u8868",children:[],level:3},{value:"\u7167\u7247\u5899",id:"\u7167\u7247\u5899",children:[],level:3},{value:"\u5b8c\u5168\u63a7\u5236\u7684\u4e0a\u4f20\u5217\u8868",id:"\u5b8c\u5168\u63a7\u5236\u7684\u4e0a\u4f20\u5217\u8868",children:[],level:3},{value:"\u62d6\u62fd\u4e0a\u4f20",id:"\u62d6\u62fd\u4e0a\u4f20",children:[],level:3},{value:"\u6587\u4ef6\u5939\u4e0a\u4f20",id:"\u6587\u4ef6\u5939\u4e0a\u4f20",children:[],level:3},{value:"\u624b\u52a8\u4e0a\u4f20",id:"\u624b\u52a8\u4e0a\u4f20",children:[],level:3},{value:"\u56fe\u7247\u5217\u8868\u6837\u5f0f",id:"\u56fe\u7247\u5217\u8868\u6837\u5f0f",children:[],level:3},{value:"\u81ea\u5b9a\u4e49\u9884\u89c8",id:"\u81ea\u5b9a\u4e49\u9884\u89c8",children:[],level:3},{value:"\u4e0a\u4f20\u524d\u8f6c\u6362\u6587\u4ef6",id:"\u4e0a\u4f20\u524d\u8f6c\u6362\u6587\u4ef6",children:[],level:3},{value:"\u963f\u91cc\u4e91 OSS",id:"\u963f\u91cc\u4e91-oss",children:[],level:3}],level:2},{value:"API",id:"api",children:[{value:"onChange",id:"onchange",children:[],level:3}],level:2},{value:"FAQ",id:"faq",children:[{value:"\u670d\u52a1\u7aef\u5982\u4f55\u5b9e\u73b0\uff1f",id:"\u670d\u52a1\u7aef\u5982\u4f55\u5b9e\u73b0",children:[],level:3},{value:"\u5982\u4f55\u663e\u793a\u4e0b\u8f7d\u94fe\u63a5\uff1f",id:"\u5982\u4f55\u663e\u793a\u4e0b\u8f7d\u94fe\u63a5",children:[],level:3},{value:"<code>customRequest</code> \u600e\u4e48\u4f7f\u7528\uff1f",id:"customrequest-\u600e\u4e48\u4f7f\u7528",children:[],level:3},{value:"IE8/9 \u95ee\u9898",id:"ie89-\u95ee\u9898",children:[],level:3}],level:2}],u={toc:d};function m(n){var e=n.components,t=(0,l.Z)(n,i);return(0,r.kt)("wrapper",(0,a.Z)({},u,t,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("hr",null),(0,r.kt)("p",null,"\u6587\u4ef6\u9009\u62e9\u4e0a\u4f20\u548c\u62d6\u62fd\u4e0a\u4f20\u63a7\u4ef6\u3002"),(0,r.kt)("h2",{id:"\u4f55\u65f6\u4f7f\u7528"},"\u4f55\u65f6\u4f7f\u7528"),(0,r.kt)("p",null,"\u4e0a\u4f20\u662f\u5c06\u4fe1\u606f\uff08\u7f51\u9875\u3001\u6587\u5b57\u3001\u56fe\u7247\u3001\u89c6\u9891\u7b49\uff09\u901a\u8fc7\u7f51\u9875\u6216\u8005\u4e0a\u4f20\u5de5\u5177\u53d1\u5e03\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u7684\u8fc7\u7a0b\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5f53\u9700\u8981\u4e0a\u4f20\u4e00\u4e2a\u6216\u4e00\u4e9b\u6587\u4ef6\u65f6\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u5f53\u9700\u8981\u5c55\u73b0\u4e0a\u4f20\u7684\u8fdb\u5ea6\u65f6\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u5f53\u9700\u8981\u4f7f\u7528\u62d6\u62fd\u4ea4\u4e92\u65f6\u3002")),(0,r.kt)("h2",{id:"\u793a\u4f8b"},"\u793a\u4f8b"),(0,r.kt)("h3",{id:"\u70b9\u51fb\u4e0a\u4f20"},"\u70b9\u51fb\u4e0a\u4f20"),(0,r.kt)("p",null,"\u7ecf\u5178\u6b3e\u5f0f\uff0c\u7528\u6237\u70b9\u51fb\u6309\u94ae\u5f39\u51fa\u6587\u4ef6\u9009\u62e9\u6846\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"const props = {\n  name: 'file',\n  action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\n  headers: {\n    authorization: 'authorization-text',\n  },\n  onChange(info) {\n    if (info.file.status !== 'uploading') {\n      console.log(info.file, info.fileList);\n    }\n    if (info.file.status === 'done') {\n      message.success(`${info.file.name} file uploaded successfully`);\n    } else if (info.file.status === 'error') {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  },\n};\n\nReactDOM.render(\n  <Upload {...props}>\n    <Button>\n      <Icon type=\"upload\" /> Click to Upload\n    </Button>\n  </Upload>,\n  mountNode,\n);\n")),(0,r.kt)("h3",{id:"\u7528\u6237\u5934\u50cf"},"\u7528\u6237\u5934\u50cf"),(0,r.kt)("p",null,"\u70b9\u51fb\u4e0a\u4f20\u7528\u6237\u5934\u50cf\uff0c\u5e76\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"beforeUpload")," \u9650\u5236\u7528\u6237\u4e0a\u4f20\u7684\u56fe\u7247\u683c\u5f0f\u548c\u5927\u5c0f\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"function getBase64(img, callback) {\n  const reader = new FileReader();\n  reader.addEventListener('load', () => callback(reader.result));\n  reader.readAsDataURL(img);\n}\n\nfunction beforeUpload(file) {\n  const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\n  if (!isJpgOrPng) {\n    message.error('You can only upload JPG/PNG file!');\n  }\n  const isLt2M = file.size / 1024 / 1024 < 2;\n  if (!isLt2M) {\n    message.error('Image must smaller than 2MB!');\n  }\n  return isJpgOrPng && isLt2M;\n}\n\nclass Avatar extends React.Component {\n  state = {\n    loading: false,\n  };\n\n  handleChange = info => {\n    if (info.file.status === 'uploading') {\n      this.setState({ loading: true });\n      return;\n    }\n    if (info.file.status === 'done') {\n      // Get this url from response in real world.\n      getBase64(info.file.originFileObj, imageUrl =>\n        this.setState({\n          imageUrl,\n          loading: false,\n        }),\n      );\n    }\n  };\n\n  render() {\n    const uploadButton = (\n      <div>\n        <Icon type={this.state.loading ? 'loading' : 'plus'} />\n        <div className=\"ant-upload-text\">Upload</div>\n      </div>\n    );\n    const { imageUrl } = this.state;\n    return (\n      <Upload\n        name=\"avatar\"\n        listType=\"picture-card\"\n        className=\"avatar-uploader\"\n        showUploadList={false}\n        action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n        beforeUpload={beforeUpload}\n        onChange={this.handleChange}\n      >\n        {imageUrl ? <img src={imageUrl} alt=\"avatar\" style={{ width: '100%' }} /> : uploadButton}\n      </Upload>\n    );\n  }\n}\n\nReactDOM.render(<Avatar />, mountNode);\n")),(0,r.kt)("h3",{id:"\u5df2\u4e0a\u4f20\u7684\u6587\u4ef6\u5217\u8868"},"\u5df2\u4e0a\u4f20\u7684\u6587\u4ef6\u5217\u8868"),(0,r.kt)("p",null,"\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"defaultFileList")," \u8bbe\u7f6e\u5df2\u4e0a\u4f20\u7684\u5185\u5bb9\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"const props = {\n  action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\n  onChange({ file, fileList }) {\n    if (file.status !== 'uploading') {\n      console.log(file, fileList);\n    }\n  },\n  defaultFileList: [\n    {\n      uid: '1',\n      name: 'xxx.png',\n      status: 'done',\n      response: 'Server Error 500', // custom error message to show\n      url: 'http://www.baidu.com/xxx.png',\n    },\n    {\n      uid: '2',\n      name: 'yyy.png',\n      status: 'done',\n      url: 'http://www.baidu.com/yyy.png',\n    },\n    {\n      uid: '3',\n      name: 'zzz.png',\n      status: 'error',\n      response: 'Server Error 500', // custom error message to show\n      url: 'http://www.baidu.com/zzz.png',\n    },\n  ],\n};\n\nReactDOM.render(\n  <Upload {...props}>\n    <Button>\n      <Icon type=\"upload\" /> Upload\n    </Button>\n  </Upload>,\n  mountNode,\n);\n")),(0,r.kt)("h3",{id:"\u7167\u7247\u5899"},"\u7167\u7247\u5899"),(0,r.kt)("p",null,"\u7528\u6237\u53ef\u4ee5\u4e0a\u4f20\u56fe\u7247\u5e76\u5728\u5217\u8868\u4e2d\u663e\u793a\u7f29\u7565\u56fe\u3002\u5f53\u4e0a\u4f20\u7167\u7247\u6570\u5230\u8fbe\u9650\u5236\u540e\uff0c\u4e0a\u4f20\u6309\u94ae\u6d88\u5931\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"function getBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = error => reject(error);\n  });\n}\n\nclass PicturesWall extends React.Component {\n  state = {\n    previewVisible: false,\n    previewImage: '',\n    fileList: [\n      {\n        uid: '-1',\n        name: 'image.png',\n        status: 'done',\n        url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\n      },\n      {\n        uid: '-2',\n        name: 'image.png',\n        status: 'done',\n        url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\n      },\n      {\n        uid: '-3',\n        name: 'image.png',\n        status: 'done',\n        url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\n      },\n      {\n        uid: '-4',\n        name: 'image.png',\n        status: 'done',\n        url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\n      },\n      {\n        uid: '-5',\n        name: 'image.png',\n        status: 'error',\n      },\n    ],\n  };\n\n  handleCancel = () => this.setState({ previewVisible: false });\n\n  handlePreview = async file => {\n    if (!file.url && !file.preview) {\n      file.preview = await getBase64(file.originFileObj);\n    }\n\n    this.setState({\n      previewImage: file.url || file.preview,\n      previewVisible: true,\n    });\n  };\n\n  handleChange = ({ fileList }) => this.setState({ fileList });\n\n  render() {\n    const { previewVisible, previewImage, fileList } = this.state;\n    const uploadButton = (\n      <div>\n        <Icon type=\"plus\" />\n        <div className=\"ant-upload-text\">Upload</div>\n      </div>\n    );\n    return (\n      <div className=\"clearfix\">\n        <Upload\n          action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n          listType=\"picture-card\"\n          fileList={fileList}\n          onPreview={this.handlePreview}\n          onChange={this.handleChange}\n        >\n          {fileList.length >= 8 ? null : uploadButton}\n        </Upload>\n        <Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\n          <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\n        </Modal>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<PicturesWall />, mountNode);\n")),(0,r.kt)("h3",{id:"\u5b8c\u5168\u63a7\u5236\u7684\u4e0a\u4f20\u5217\u8868"},"\u5b8c\u5168\u63a7\u5236\u7684\u4e0a\u4f20\u5217\u8868"),(0,r.kt)("p",null,"\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"fileList")," \u5bf9\u5217\u8868\u8fdb\u884c\u5b8c\u5168\u63a7\u5236\uff0c\u53ef\u4ee5\u5b9e\u73b0\u5404\u79cd\u81ea\u5b9a\u4e49\u529f\u80fd\uff0c\u4ee5\u4e0b\u6f14\u793a\u4e09\u79cd\u60c5\u51b5\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"class MyUpload extends React.Component {\n  state = {\n    fileList: [\n      {\n        uid: '-1',\n        name: 'xxx.png',\n        status: 'done',\n        url: 'http://www.baidu.com/xxx.png',\n      },\n    ],\n  };\n\n  handleChange = info => {\n    let fileList = [...info.fileList];\n\n    // 1. Limit the number of uploaded files\n    // Only to show two recent uploaded files, and old ones will be replaced by the new\n    fileList = fileList.slice(-2);\n\n    // 2. Read from response and show file link\n    fileList = fileList.map(file => {\n      if (file.response) {\n        // Component will show file.url as link\n        file.url = file.response.url;\n      }\n      return file;\n    });\n\n    this.setState({ fileList });\n  };\n\n  render() {\n    const props = {\n      action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\n      onChange: this.handleChange,\n      multiple: true,\n    };\n    return (\n      <Upload {...props} fileList={this.state.fileList}>\n        <Button>\n          <Icon type=\"upload\" /> Upload\n        </Button>\n      </Upload>\n    );\n  }\n}\n\nReactDOM.render(<MyUpload />, mountNode);\n")),(0,r.kt)("h3",{id:"\u62d6\u62fd\u4e0a\u4f20"},"\u62d6\u62fd\u4e0a\u4f20"),(0,r.kt)("p",null,"\u628a\u6587\u4ef6\u62d6\u5165\u6307\u5b9a\u533a\u57df\uff0c\u5b8c\u6210\u4e0a\u4f20\uff0c\u540c\u6837\u652f\u6301\u70b9\u51fb\u4e0a\u4f20\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"const { Dragger } = Upload;\n\nconst props = {\n  name: 'file',\n  multiple: true,\n  action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\n  onChange(info) {\n    const { status } = info.file;\n    if (status !== 'uploading') {\n      console.log(info.file, info.fileList);\n    }\n    if (status === 'done') {\n      message.success(`${info.file.name} file uploaded successfully.`);\n    } else if (status === 'error') {\n      message.error(`${info.file.name} file upload failed.`);\n    }\n  },\n};\n\nReactDOM.render(\n  <Dragger {...props}>\n    <p className=\"ant-upload-drag-icon\">\n      <Icon type=\"inbox\" />\n    </p>\n    <p className=\"ant-upload-text\">Click or drag file to this area to upload</p>\n    <p className=\"ant-upload-hint\">\n      Support for a single or bulk upload. Strictly prohibit from uploading company data or other\n      band files\n    </p>\n  </Dragger>,\n  mountNode,\n);\n")),(0,r.kt)("h3",{id:"\u6587\u4ef6\u5939\u4e0a\u4f20"},"\u6587\u4ef6\u5939\u4e0a\u4f20"),(0,r.kt)("p",null,"\u652f\u6301\u4e0a\u4f20\u4e00\u4e2a\u6587\u4ef6\u5939\u91cc\u7684\u6240\u6709\u6587\u4ef6\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},'ReactDOM.render(\n  <Upload action="https://www.mocky.io/v2/5cc8019d300000980a055e76" directory>\n    <Button>\n      <Icon type="upload" /> Upload Directory\n    </Button>\n  </Upload>,\n  mountNode,\n);\n')),(0,r.kt)("h3",{id:"\u624b\u52a8\u4e0a\u4f20"},"\u624b\u52a8\u4e0a\u4f20"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"beforeUpload")," \u8fd4\u56de ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," \u540e\uff0c\u624b\u52a8\u4e0a\u4f20\u6587\u4ef6\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"class Demo extends React.Component {\n  state = {\n    fileList: [],\n    uploading: false,\n  };\n\n  handleUpload = () => {\n    const { fileList } = this.state;\n    const formData = new FormData();\n    fileList.forEach(file => {\n      formData.append('files[]', file);\n    });\n\n    this.setState({\n      uploading: true,\n    });\n\n    // You can use any AJAX library you like\n    axios({\n      url: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\n      method: 'post',\n      processData: false,\n      data: formData,\n    }).then(() => {\n      this.setState({\n        fileList: [],\n        uploading: false,\n      });\n      message.success('upload successfully.');\n    }).catch(() => {\n      this.setState({\n        uploading: false,\n      });\n      message.error('upload failed.');\n    });\n  };\n\n  render() {\n    const { uploading, fileList } = this.state;\n    const props = {\n      onRemove: file => {\n        this.setState(state => {\n          const index = state.fileList.indexOf(file);\n          const newFileList = state.fileList.slice();\n          newFileList.splice(index, 1);\n          return {\n            fileList: newFileList,\n          };\n        });\n      },\n      beforeUpload: file => {\n        this.setState(state => ({\n          fileList: [...state.fileList, file],\n        }));\n        return false;\n      },\n      fileList,\n    };\n\n    return (\n      <div>\n        <Upload {...props}>\n          <Button>\n            <Icon type=\"upload\" /> Select File\n          </Button>\n        </Upload>\n        <Button\n          type=\"primary\"\n          onClick={this.handleUpload}\n          disabled={fileList.length === 0}\n          loading={uploading}\n          style={{ marginTop: 16 }}\n        >\n          {uploading ? 'Uploading' : 'Start Upload'}\n        </Button>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<Demo />, mountNode);\n")),(0,r.kt)("h3",{id:"\u56fe\u7247\u5217\u8868\u6837\u5f0f"},"\u56fe\u7247\u5217\u8868\u6837\u5f0f"),(0,r.kt)("p",null,"\u4e0a\u4f20\u6587\u4ef6\u4e3a\u56fe\u7247\uff0c\u53ef\u5c55\u793a\u672c\u5730\u7f29\u7565\u56fe\u3002",(0,r.kt)("inlineCode",{parentName:"p"},"IE8/9")," \u4e0d\u652f\u6301\u6d4f\u89c8\u5668\u672c\u5730\u7f29\u7565\u56fe\u5c55\u793a\uff08","[","Ref]","(",(0,r.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL)%EF%BC%89%EF%BC%8C%E5%8F%AF%E4%BB%A5%E5%86%99"},"https://developer.mozilla.org/en-US/docs/Web/API/FileReader/readAsDataURL)\uff09\uff0c\u53ef\u4ee5\u5199")," ",(0,r.kt)("inlineCode",{parentName:"p"},"thumbUrl")," \u5c5e\u6027\u6765\u4ee3\u66ff\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"const fileList = [\n  {\n    uid: '-1',\n    name: 'xxx.png',\n    status: 'done',\n    url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\n    thumbUrl: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',\n  },\n  {\n    uid: '-2',\n    name: 'yyy.png',\n    status: 'error',\n  },\n];\n\nconst props = {\n  action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\n  listType: 'picture',\n  defaultFileList: [...fileList],\n};\n\nconst props2 = {\n  action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\n  listType: 'picture',\n  defaultFileList: [...fileList],\n  className: 'upload-list-inline',\n};\n\nReactDOM.render(\n  <div>\n    <Upload {...props}>\n      <Button>\n        <Icon type=\"upload\" /> Upload\n      </Button>\n    </Upload>\n    <br />\n    <br />\n    <Upload {...props2}>\n      <Button>\n        <Icon type=\"upload\" /> Upload\n      </Button>\n    </Upload>\n  </div>,\n  mountNode,\n);\n")),(0,r.kt)("h3",{id:"\u81ea\u5b9a\u4e49\u9884\u89c8"},"\u81ea\u5b9a\u4e49\u9884\u89c8"),(0,r.kt)("p",null,"\u81ea\u5b9a\u4e49\u672c\u5730\u9884\u89c8\uff0c\u7528\u4e8e\u5904\u7406\u975e\u56fe\u7247\u683c\u5f0f\u6587\u4ef6\uff08\u4f8b\u5982\u89c6\u9891\u6587\u4ef6\uff09\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"const props = {\n  action: '//jsonplaceholder.typicode.com/posts/',\n  listType: 'picture',\n  previewFile(file) {\n    console.log('Your upload file:', file);\n    // Your process logic. Here we just mock to the same file\n    return fetch('https://next.json-generator.com/api/json/get/4ytyBoLK8', {\n      method: 'POST',\n      body: file,\n    })\n      .then(res => res.json())\n      .then(({ thumbnail }) => thumbnail);\n  },\n};\n\nReactDOM.render(\n  <div>\n    <Upload {...props}>\n      <Button>\n        <Icon type=\"upload\" /> Upload\n      </Button>\n    </Upload>\n  </div>,\n  mountNode,\n);\n")),(0,r.kt)("h3",{id:"\u4e0a\u4f20\u524d\u8f6c\u6362\u6587\u4ef6"},"\u4e0a\u4f20\u524d\u8f6c\u6362\u6587\u4ef6"),(0,r.kt)("p",null,"\u4f7f\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"transformFile")," \u8f6c\u6362\u4e0a\u4f20\u7684\u6587\u4ef6\uff08\u4f8b\u5982\u6dfb\u52a0\u6c34\u5370\uff09\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"const props = {\n  action: 'https://www.mocky.io/v2/5cc8019d300000980a055e76',\n  transformFile(file) {\n    return new Promise(resolve => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        const canvas = document.createElement('canvas');\n        const img = document.createElement('img');\n        img.src = reader.result;\n        img.onload = () => {\n          const ctx = canvas.getContext('2d');\n          ctx.drawImage(img, 0, 0);\n          ctx.fillStyle = 'red';\n          ctx.textBaseline = 'middle';\n          ctx.fillText('Ant Design', 20, 20);\n          canvas.toBlob(resolve);\n        };\n      };\n    });\n  },\n};\n\nReactDOM.render(\n  <div>\n    <Upload {...props}>\n      <Button>\n        <Icon type=\"upload\" /> Upload\n      </Button>\n    </Upload>\n  </div>,\n  mountNode,\n);\n")),(0,r.kt)("h3",{id:"\u963f\u91cc\u4e91-oss"},"\u963f\u91cc\u4e91 OSS"),(0,r.kt)("p",null,"\u4f7f\u7528\u963f\u91cc\u4e91 OSS \u4e0a\u4f20\u793a\u4f8b."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx",metastring:"live",live:!0},"class AliyunOSSUpload extends React.Component {\n  state = {\n    OSSData: {},\n  };\n\n  async componentDidMount() {\n    await this.init();\n  }\n\n  init = async () => {\n    try {\n      const OSSData = await this.mockGetOSSData();\n\n      this.setState({\n        OSSData,\n      });\n    } catch (error) {\n      message.error(error);\n    }\n  };\n\n  // Mock get OSS api\n  // https://help.aliyun.com/document_detail/31988.html\n  mockGetOSSData = () => {\n    return {\n      dir: 'user-dir/',\n      expire: '1577811661',\n      host: '//www.mocky.io/v2/5cc8019d300000980a055e76',\n      accessId: 'c2hhb2RhaG9uZw==',\n      policy: 'eGl4aWhhaGFrdWt1ZGFkYQ==',\n      signature: 'ZGFob25nc2hhbw==',\n    };\n  };\n\n  onChange = ({ fileList }) => {\n    const { onChange } = this.props;\n    console.log('Aliyun OSS:', fileList);\n    if (onChange) {\n      onChange([...fileList]);\n    }\n  };\n\n  onRemove = file => {\n    const { value, onChange } = this.props;\n\n    const files = value.filter(v => v.url !== file.url);\n\n    if (onChange) {\n      onChange(files);\n    }\n  };\n\n  transformFile = file => {\n    const { OSSData } = this.state;\n\n    const suffix = file.name.slice(file.name.lastIndexOf('.'));\n    const filename = Date.now() + suffix;\n    file.url = OSSData.dir + filename;\n\n    return file;\n  };\n\n  getExtraData = file => {\n    const { OSSData } = this.state;\n\n    return {\n      key: file.url,\n      OSSAccessKeyId: OSSData.accessId,\n      policy: OSSData.policy,\n      Signature: OSSData.signature,\n    };\n  };\n\n  beforeUpload = async () => {\n    const { OSSData } = this.state;\n    const expire = OSSData.expire * 1000;\n\n    if (expire < Date.now()) {\n      await this.init();\n    }\n    return true;\n  };\n\n  render() {\n    const { value } = this.props;\n    const props = {\n      name: 'file',\n      fileList: value,\n      action: this.state.OSSData.host,\n      onChange: this.onChange,\n      onRemove: this.onRemove,\n      transformFile: this.transformFile,\n      data: this.getExtraData,\n      beforeUpload: this.beforeUpload,\n    };\n    return (\n      <Upload {...props}>\n        <Button>\n          <Icon type=\"upload\" /> Click to Upload\n        </Button>\n      </Upload>\n    );\n  }\n}\n\nclass FormPage extends React.Component {\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    return (\n      <Form onSubmit={this.handleSubmit} labelCol={{ span: 4 }}>\n        <Form.Item label=\"Photos\">{getFieldDecorator('photos')(<AliyunOSSUpload />)}</Form.Item>\n      </Form>\n    );\n  }\n}\n\nconst WrappedFormPage = Form.create()(FormPage);\n\nReactDOM.render(<WrappedFormPage />, mountNode);\n")),(0,r.kt)("h2",{id:"api"},"API"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570"),(0,r.kt)("th",{parentName:"tr",align:null},"\u8bf4\u660e"),(0,r.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,r.kt)("th",{parentName:"tr",align:null},"\u9ed8\u8ba4\u503c"),(0,r.kt)("th",{parentName:"tr",align:null},"\u7248\u672c"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"accept"),(0,r.kt)("td",{parentName:"tr",align:null},"\u63a5\u53d7\u4e0a\u4f20\u7684\u6587\u4ef6\u7c7b\u578b, \u8be6\u89c1 ",(0,r.kt)("a",{parentName:"td",href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#accept"},"input accept Attribute")),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"\u65e0"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"action"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4e0a\u4f20\u7684\u5730\u5740"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"(file) => ",(0,r.kt)("inlineCode",{parentName:"td"},"Promise")),(0,r.kt)("td",{parentName:"tr",align:null},"\u65e0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"method"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4e0a\u4f20\u8bf7\u6c42\u7684 http method"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"'post'"),(0,r.kt)("td",{parentName:"tr",align:null},"3.25.0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"directory"),(0,r.kt)("td",{parentName:"tr",align:null},"\u652f\u6301\u4e0a\u4f20\u6587\u4ef6\u5939\uff08",(0,r.kt)("a",{parentName:"td",href:"https://caniuse.com/#feat=input-file-directory"},"caniuse"),"\uff09"),(0,r.kt)("td",{parentName:"tr",align:null},"boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null},"3.7.0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"beforeUpload"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4e0a\u4f20\u6587\u4ef6\u4e4b\u524d\u7684\u94a9\u5b50\uff0c\u53c2\u6570\u4e3a\u4e0a\u4f20\u7684\u6587\u4ef6\uff0c\u82e5\u8fd4\u56de ",(0,r.kt)("inlineCode",{parentName:"td"},"false")," \u5219\u505c\u6b62\u4e0a\u4f20\u3002\u652f\u6301\u8fd4\u56de\u4e00\u4e2a Promise \u5bf9\u8c61\uff0cPromise \u5bf9\u8c61 reject \u65f6\u5219\u505c\u6b62\u4e0a\u4f20\uff0cresolve \u65f6\u5f00\u59cb\u4e0a\u4f20\uff08 resolve \u4f20\u5165 ",(0,r.kt)("inlineCode",{parentName:"td"},"File")," \u6216 ",(0,r.kt)("inlineCode",{parentName:"td"},"Blob")," \u5bf9\u8c61\u5219\u4e0a\u4f20 resolve \u4f20\u5165\u5bf9\u8c61\uff09\u3002",(0,r.kt)("strong",{parentName:"td"},"\u6ce8\u610f\uff1aIE9 \u4e0d\u652f\u6301\u8be5\u65b9\u6cd5"),"\u3002"),(0,r.kt)("td",{parentName:"tr",align:null},"(file, fileList) => `boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"Promise`"),(0,r.kt)("td",{parentName:"tr",align:null},"\u65e0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"customRequest"),(0,r.kt)("td",{parentName:"tr",align:null},"\u901a\u8fc7\u8986\u76d6\u9ed8\u8ba4\u7684\u4e0a\u4f20\u884c\u4e3a\uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49\u81ea\u5df1\u7684\u4e0a\u4f20\u5b9e\u73b0"),(0,r.kt)("td",{parentName:"tr",align:null},"Function"),(0,r.kt)("td",{parentName:"tr",align:null},"\u65e0"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"data"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4e0a\u4f20\u6240\u9700\u989d\u5916\u53c2\u6570\u6216\u8fd4\u56de\u4e0a\u4f20\u989d\u5916\u53c2\u6570\u7684\u65b9\u6cd5"),(0,r.kt)("td",{parentName:"tr",align:null},"object"),(0,r.kt)("td",{parentName:"tr",align:null},"(file) => object"),(0,r.kt)("td",{parentName:"tr",align:null},"\u65e0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"defaultFileList"),(0,r.kt)("td",{parentName:"tr",align:null},"\u9ed8\u8ba4\u5df2\u7ecf\u4e0a\u4f20\u7684\u6587\u4ef6\u5217\u8868"),(0,r.kt)("td",{parentName:"tr",align:null},"object","[","]"),(0,r.kt)("td",{parentName:"tr",align:null},"\u65e0"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"disabled"),(0,r.kt)("td",{parentName:"tr",align:null},"\u662f\u5426\u7981\u7528"),(0,r.kt)("td",{parentName:"tr",align:null},"boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"fileList"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5df2\u7ecf\u4e0a\u4f20\u7684\u6587\u4ef6\u5217\u8868\uff08\u53d7\u63a7\uff09\uff0c\u4f7f\u7528\u6b64\u53c2\u6570\u65f6\uff0c\u5982\u679c\u9047\u5230 ",(0,r.kt)("inlineCode",{parentName:"td"},"onChange")," \u53ea\u8c03\u7528\u4e00\u6b21\u7684\u95ee\u9898\uff0c\u8bf7\u53c2\u8003 ",(0,r.kt)("a",{parentName:"td",href:"https://github.com/ant-design/ant-design/issues/2423"},"#2423")),(0,r.kt)("td",{parentName:"tr",align:null},"object","[","]"),(0,r.kt)("td",{parentName:"tr",align:null},"\u65e0"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"headers"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8bbe\u7f6e\u4e0a\u4f20\u7684\u8bf7\u6c42\u5934\u90e8\uff0cIE10 \u4ee5\u4e0a\u6709\u6548"),(0,r.kt)("td",{parentName:"tr",align:null},"object"),(0,r.kt)("td",{parentName:"tr",align:null},"\u65e0"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"listType"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4e0a\u4f20\u5217\u8868\u7684\u5185\u5efa\u6837\u5f0f\uff0c\u652f\u6301\u4e09\u79cd\u57fa\u672c\u6837\u5f0f ",(0,r.kt)("inlineCode",{parentName:"td"},"text"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"picture")," \u548c ",(0,r.kt)("inlineCode",{parentName:"td"},"picture-card")),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"'text'"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"multiple"),(0,r.kt)("td",{parentName:"tr",align:null},"\u662f\u5426\u652f\u6301\u591a\u9009\u6587\u4ef6\uff0c",(0,r.kt)("inlineCode",{parentName:"td"},"ie10+")," \u652f\u6301\u3002\u5f00\u542f\u540e\u6309\u4f4f ctrl \u53ef\u9009\u62e9\u591a\u4e2a\u6587\u4ef6"),(0,r.kt)("td",{parentName:"tr",align:null},"boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"name"),(0,r.kt)("td",{parentName:"tr",align:null},"\u53d1\u5230\u540e\u53f0\u7684\u6587\u4ef6\u53c2\u6570\u540d"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"'file'"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"previewFile"),(0,r.kt)("td",{parentName:"tr",align:null},"\u81ea\u5b9a\u4e49\u6587\u4ef6\u9884\u89c8\u903b\u8f91"),(0,r.kt)("td",{parentName:"tr",align:null},"(file: File"),(0,r.kt)("td",{parentName:"tr",align:null},"Blob) => Promise\\<dataURL: string>"),(0,r.kt)("td",{parentName:"tr",align:null},"\u65e0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"showUploadList"),(0,r.kt)("td",{parentName:"tr",align:null},"\u662f\u5426\u5c55\u793a\u6587\u4ef6\u5217\u8868, \u53ef\u8bbe\u4e3a\u4e00\u4e2a\u5bf9\u8c61\uff0c\u7528\u4e8e\u5355\u72ec\u8bbe\u5b9a ",(0,r.kt)("inlineCode",{parentName:"td"},"showPreviewIcon"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"showRemoveIcon")," \u548c ",(0,r.kt)("inlineCode",{parentName:"td"},"showDownloadIcon")),(0,r.kt)("td",{parentName:"tr",align:null},"Boolean or { showPreviewIcon?: boolean, showRemoveIcon?: boolean, showDownloadIcon?: boolean }"),(0,r.kt)("td",{parentName:"tr",align:null},"true"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"supportServerRender"),(0,r.kt)("td",{parentName:"tr",align:null},"\u670d\u52a1\u7aef\u6e32\u67d3\u65f6\u9700\u8981\u6253\u5f00\u8fd9\u4e2a"),(0,r.kt)("td",{parentName:"tr",align:null},"boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"withCredentials"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4e0a\u4f20\u8bf7\u6c42\u65f6\u662f\u5426\u643a\u5e26 cookie"),(0,r.kt)("td",{parentName:"tr",align:null},"boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"openFileDialogOnClick"),(0,r.kt)("td",{parentName:"tr",align:null},"\u70b9\u51fb\u6253\u5f00\u6587\u4ef6\u5bf9\u8bdd\u6846"),(0,r.kt)("td",{parentName:"tr",align:null},"boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"true"),(0,r.kt)("td",{parentName:"tr",align:null},"3.10.0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"onChange"),(0,r.kt)("td",{parentName:"tr",align:null},"\u4e0a\u4f20\u6587\u4ef6\u6539\u53d8\u65f6\u7684\u72b6\u6001\uff0c\u8be6\u89c1 ",(0,r.kt)("a",{parentName:"td",href:"#onChange"},"onChange")),(0,r.kt)("td",{parentName:"tr",align:null},"Function"),(0,r.kt)("td",{parentName:"tr",align:null},"\u65e0"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"onPreview"),(0,r.kt)("td",{parentName:"tr",align:null},"\u70b9\u51fb\u6587\u4ef6\u94fe\u63a5\u6216\u9884\u89c8\u56fe\u6807\u65f6\u7684\u56de\u8c03"),(0,r.kt)("td",{parentName:"tr",align:null},"Function(file)"),(0,r.kt)("td",{parentName:"tr",align:null},"\u65e0"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"onRemove \xa0"),(0,r.kt)("td",{parentName:"tr",align:null},"\u70b9\u51fb\u79fb\u9664\u6587\u4ef6\u65f6\u7684\u56de\u8c03\uff0c\u8fd4\u56de\u503c\u4e3a false \u65f6\u4e0d\u79fb\u9664\u3002\u652f\u6301\u8fd4\u56de\u4e00\u4e2a Promise \u5bf9\u8c61\uff0cPromise \u5bf9\u8c61 resolve(false) \u6216 reject \u65f6\u4e0d\u79fb\u9664\u3002 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0"),(0,r.kt)("td",{parentName:"tr",align:null},"Function(file): `boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"Promise`"),(0,r.kt)("td",{parentName:"tr",align:null},"\u65e0 \xa0")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"onDownload"),(0,r.kt)("td",{parentName:"tr",align:null},"\u70b9\u51fb\u4e0b\u8f7d\u6587\u4ef6\u65f6\u7684\u56de\u8c03\uff0c\u5982\u679c\u6ca1\u6709\u6307\u5b9a\uff0c\u5219\u9ed8\u8ba4\u8df3\u8f6c\u5230\u6587\u4ef6 url \u5bf9\u5e94\u7684\u6807\u7b7e\u9875\u3002"),(0,r.kt)("td",{parentName:"tr",align:null},"Function(file): void"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8df3\u8f6c\u65b0\u6807\u7b7e\u9875"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"transformFile \xa0"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5728\u4e0a\u4f20\u4e4b\u524d\u8f6c\u6362\u6587\u4ef6\u3002\u652f\u6301\u8fd4\u56de\u4e00\u4e2a Promise \u5bf9\u8c61 \xa0"),(0,r.kt)("td",{parentName:"tr",align:null},"Function(file): `string"),(0,r.kt)("td",{parentName:"tr",align:null},"Blob"),(0,r.kt)("td",{parentName:"tr",align:null},"File")))),(0,r.kt)("h3",{id:"onchange"},"onChange"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u4e0a\u4f20\u4e2d\u3001\u5b8c\u6210\u3001\u5931\u8d25\u90fd\u4f1a\u8c03\u7528\u8fd9\u4e2a\u51fd\u6570\u3002")),(0,r.kt)("p",null,"\u6587\u4ef6\u72b6\u6001\u6539\u53d8\u7684\u56de\u8c03\uff0c\u8fd4\u56de\u4e3a\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"{\n  file: { /* ... */ },\n  fileList: [ /* ... */ ],\n  event: { /* ... */ },\n}\n")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"file")," \u5f53\u524d\u64cd\u4f5c\u7684\u6587\u4ef6\u5bf9\u8c61\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-js"},"{\n   uid: 'uid',      // \u6587\u4ef6\u552f\u4e00\u6807\u8bc6\uff0c\u5efa\u8bae\u8bbe\u7f6e\u4e3a\u8d1f\u6570\uff0c\u9632\u6b62\u548c\u5185\u90e8\u4ea7\u751f\u7684 id \u51b2\u7a81\n   name: 'xx.png'   // \u6587\u4ef6\u540d\n   status: 'done', // \u72b6\u6001\u6709\uff1auploading done error removed\n   response: '{\"status\": \"success\"}', // \u670d\u52a1\u7aef\u54cd\u5e94\u5185\u5bb9\n   linkProps: '{\"download\": \"image\"}', // \u4e0b\u8f7d\u94fe\u63a5\u989d\u5916\u7684 HTML \u5c5e\u6027\n}\n"))),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"fileList")," \u5f53\u524d\u7684\u6587\u4ef6\u5217\u8868\u3002")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"event")," \u4e0a\u4f20\u4e2d\u7684\u670d\u52a1\u7aef\u54cd\u5e94\u5185\u5bb9\uff0c\u5305\u542b\u4e86\u4e0a\u4f20\u8fdb\u5ea6\u7b49\u4fe1\u606f\uff0c\u9ad8\u7ea7\u6d4f\u89c8\u5668\u652f\u6301\u3002"))),(0,r.kt)("h2",{id:"faq"},"FAQ"),(0,r.kt)("h3",{id:"\u670d\u52a1\u7aef\u5982\u4f55\u5b9e\u73b0"},"\u670d\u52a1\u7aef\u5982\u4f55\u5b9e\u73b0\uff1f"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u670d\u52a1\u7aef\u4e0a\u4f20\u63a5\u53e3\u5b9e\u73b0\u53ef\u4ee5\u53c2\u8003 ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/blueimp/jQuery-File-Upload/wiki#server-side"},"jQuery-File-Upload"),"\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u8981\u505a\u672c\u5730 mock \u53ef\u4ee5\u53c2\u8003\u8fd9\u4e2a ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/react-component/upload/blob/master/server.js"},"express \u7684\u4f8b\u5b50"),"\u3002")),(0,r.kt)("h3",{id:"\u5982\u4f55\u663e\u793a\u4e0b\u8f7d\u94fe\u63a5"},"\u5982\u4f55\u663e\u793a\u4e0b\u8f7d\u94fe\u63a5\uff1f"),(0,r.kt)("p",null,"\u8bf7\u4f7f\u7528 fileList \u5c5e\u6027\u8bbe\u7f6e\u6570\u7ec4\u9879\u7684 url \u5c5e\u6027\u8fdb\u884c\u5c55\u793a\u63a7\u5236\u3002"),(0,r.kt)("h3",{id:"customrequest-\u600e\u4e48\u4f7f\u7528"},(0,r.kt)("inlineCode",{parentName:"h3"},"customRequest")," \u600e\u4e48\u4f7f\u7528\uff1f"),(0,r.kt)("p",null,"\u8bf7\u53c2\u8003 ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/react-component/upload#customrequest"},"https://github.com/react-component/upload#customrequest"),"\u3002"),(0,r.kt)("h3",{id:"ie89-\u95ee\u9898"},"IE8/9 \u95ee\u9898"),(0,r.kt)("p",null,"\u8bf7\u53c2\u8003 ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/react-component/upload#ie89-note"},"https://github.com/react-component/upload#ie89-note"),"\u3002"))}m.isMDXComponent=!0},30876:(n,e,t)=>{t.d(e,{Zo:()=>d,kt:()=>c});var a=t(2784);function l(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function r(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,a)}return t}function i(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?r(Object(t),!0).forEach((function(e){l(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function o(n,e){if(null==n)return{};var t,a,l=function(n,e){if(null==n)return{};var t,a,l={},r=Object.keys(n);for(a=0;a<r.length;a++)t=r[a],e.indexOf(t)>=0||(l[t]=n[t]);return l}(n,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(a=0;a<r.length;a++)t=r[a],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(l[t]=n[t])}return l}var s=a.createContext({}),p=function(n){var e=a.useContext(s),t=e;return n&&(t="function"==typeof n?n(e):i(i({},e),n)),t},d=function(n){var e=p(n.components);return a.createElement(s.Provider,{value:e},n.children)},u={inlineCode:"code",wrapper:function(n){var e=n.children;return a.createElement(a.Fragment,{},e)}},m=a.forwardRef((function(n,e){var t=n.components,l=n.mdxType,r=n.originalType,s=n.parentName,d=o(n,["components","mdxType","originalType","parentName"]),m=p(t),c=l,g=m["".concat(s,".").concat(c)]||m[c]||u[c]||r;return t?a.createElement(g,i(i({ref:e},d),{},{components:t})):a.createElement(g,i({ref:e},d))}));function c(n,e){var t=arguments,l=e&&e.mdxType;if("string"==typeof n||l){var r=t.length,i=new Array(r);i[0]=m;var o={};for(var s in e)hasOwnProperty.call(e,s)&&(o[s]=e[s]);o.originalType=n,o.mdxType="string"==typeof n?n:l,i[1]=o;for(var p=2;p<r;p++)i[p]=t[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"}}]);